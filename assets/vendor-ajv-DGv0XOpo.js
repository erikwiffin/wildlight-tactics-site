var Oe={exports:{}},Et={},me={},$e={},St={},Pt={},Nt={},Ft;function mt(){return Ft||(Ft=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class w extends r{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=w;class l extends r{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((s,f)=>`${s}${f}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((s,f)=>(f instanceof w&&(s[f.str]=(s[f.str]||0)+1),s),{})}}e._Code=l,e.nil=new l("");function b(i,...t){const s=[i[0]];let f=0;for(;f<t.length;)u(s,t[f]),s.push(i[++f]);return new l(s)}e._=b;const a=new l("+");function m(i,...t){const s=[p(i[0])];let f=0;for(;f<t.length;)s.push(a),u(s,t[f]),s.push(a,p(i[++f]));return h(s),new l(s)}e.str=m;function u(i,t){t instanceof l?i.push(...t._items):t instanceof w?i.push(t):i.push(P(t))}e.addCodeArg=u;function h(i){let t=1;for(;t<i.length-1;){if(i[t]===a){const s=$(i[t-1],i[t+1]);if(s!==void 0){i.splice(t-1,3,s);continue}i[t++]="+"}t++}}function $(i,t){if(t==='""')return i;if(i==='""')return t;if(typeof i=="string")return t instanceof w||i[i.length-1]!=='"'?void 0:typeof t!="string"?`${i.slice(0,-1)}${t}"`:t[0]==='"'?i.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(i instanceof w))return`"${i}${t.slice(1)}`}function _(i,t){return t.emptyStr()?i:i.emptyStr()?t:m`${i}${t}`}e.strConcat=_;function P(i){return typeof i=="number"||typeof i=="boolean"||i===null?i:p(Array.isArray(i)?i.join(","):i)}function v(i){return new l(p(i))}e.stringify=v;function p(i){return JSON.stringify(i).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function y(i){return typeof i=="string"&&e.IDENTIFIER.test(i)?new l(`.${i}`):b`[${i}]`}e.getProperty=y;function g(i){if(typeof i=="string"&&e.IDENTIFIER.test(i))return new l(`${i}`);throw new Error(`CodeGen: invalid export name: ${i}, use explicit $id name mapping`)}e.getEsmExportName=g;function o(i){return new l(i.toString())}e.regexpCode=o})(Nt)),Nt}var Rt={},Ut;function Kt(){return Ut||(Ut=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=mt();class w extends Error{constructor($){super(`CodeGen: "code" for ${$} not defined`),this.value=$.value}}var l;(function(h){h[h.Started=0]="Started",h[h.Completed=1]="Completed"})(l||(e.UsedValueState=l={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class b{constructor({prefixes:$,parent:_}={}){this._names={},this._prefixes=$,this._parent=_}toName($){return $ instanceof r.Name?$:this.name($)}name($){return new r.Name(this._newName($))}_newName($){const _=this._names[$]||this._nameGroup($);return`${$}${_.index++}`}_nameGroup($){var _,P;if(!((P=(_=this._parent)===null||_===void 0?void 0:_._prefixes)===null||P===void 0)&&P.has($)||this._prefixes&&!this._prefixes.has($))throw new Error(`CodeGen: prefix "${$}" is not allowed in this scope`);return this._names[$]={prefix:$,index:0}}}e.Scope=b;class a extends r.Name{constructor($,_){super(_),this.prefix=$}setValue($,{property:_,itemIndex:P}){this.value=$,this.scopePath=(0,r._)`.${new r.Name(_)}[${P}]`}}e.ValueScopeName=a;const m=(0,r._)`\n`;class u extends b{constructor($){super($),this._values={},this._scope=$.scope,this.opts={...$,_n:$.lines?m:r.nil}}get(){return this._scope}name($){return new a($,this._newName($))}value($,_){var P;if(_.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName($),{prefix:p}=v,y=(P=_.key)!==null&&P!==void 0?P:_.ref;let g=this._values[p];if(g){const t=g.get(y);if(t)return t}else g=this._values[p]=new Map;g.set(y,v);const o=this._scope[p]||(this._scope[p]=[]),i=o.length;return o[i]=_.ref,v.setValue(_,{property:p,itemIndex:i}),v}getValue($,_){const P=this._values[$];if(P)return P.get(_)}scopeRefs($,_=this._values){return this._reduceValues(_,P=>{if(P.scopePath===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return(0,r._)`${$}${P.scopePath}`})}scopeCode($=this._values,_,P){return this._reduceValues($,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},_,P)}_reduceValues($,_,P={},v){let p=r.nil;for(const y in $){const g=$[y];if(!g)continue;const o=P[y]=P[y]||new Map;g.forEach(i=>{if(o.has(i))return;o.set(i,l.Started);let t=_(i);if(t){const s=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,r._)`${p}${s} ${i} = ${t};${this.opts._n}`}else if(t=v?.(i))p=(0,r._)`${p}${t}${this.opts._n}`;else throw new w(i);o.set(i,l.Completed)})}return p}}e.ValueScope=u})(Rt)),Rt}var Lt;function J(){return Lt||(Lt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=mt(),w=Kt();var l=mt();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return l.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return l.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return l.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return l.Name}});var b=Kt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return b.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return b.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return b.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return b.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(c,S){return this}}class m extends a{constructor(c,S,T){super(),this.varKind=c,this.name=S,this.rhs=T}render({es5:c,_n:S}){const T=c?w.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${K};`+S}optimizeNames(c,S){if(c[this.name.str])return this.rhs&&(this.rhs=U(this.rhs,c,S)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(c,S,T){super(),this.lhs=c,this.rhs=S,this.sideEffects=T}render({_n:c}){return`${this.lhs} = ${this.rhs};`+c}optimizeNames(c,S){if(!(this.lhs instanceof r.Name&&!c[this.lhs.str]&&!this.sideEffects))return this.rhs=U(this.rhs,c,S),this}get names(){const c=this.lhs instanceof r.Name?{}:{...this.lhs.names};return F(c,this.rhs)}}class h extends u{constructor(c,S,T,K){super(c,T,K),this.op=S}render({_n:c}){return`${this.lhs} ${this.op}= ${this.rhs};`+c}}class $ extends a{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`${this.label}:`+c}}class _ extends a{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`break${this.label?` ${this.label}`:""};`+c}}class P extends a{constructor(c){super(),this.error=c}render({_n:c}){return`throw ${this.error};`+c}get names(){return this.error.names}}class v extends a{constructor(c){super(),this.code=c}render({_n:c}){return`${this.code};`+c}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(c,S){return this.code=U(this.code,c,S),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class p extends a{constructor(c=[]){super(),this.nodes=c}render(c){return this.nodes.reduce((S,T)=>S+T.render(c),"")}optimizeNodes(){const{nodes:c}=this;let S=c.length;for(;S--;){const T=c[S].optimizeNodes();Array.isArray(T)?c.splice(S,1,...T):T?c[S]=T:c.splice(S,1)}return c.length>0?this:void 0}optimizeNames(c,S){const{nodes:T}=this;let K=T.length;for(;K--;){const H=T[K];H.optimizeNames(c,S)||(Q(c,H.names),T.splice(K,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((c,S)=>z(c,S.names),{})}}class y extends p{render(c){return"{"+c._n+super.render(c)+"}"+c._n}}class g extends p{}class o extends y{}o.kind="else";class i extends y{constructor(c,S){super(S),this.condition=c}render(c){let S=`if(${this.condition})`+super.render(c);return this.else&&(S+="else "+this.else.render(c)),S}optimizeNodes(){super.optimizeNodes();const c=this.condition;if(c===!0)return this.nodes;let S=this.else;if(S){const T=S.optimizeNodes();S=this.else=Array.isArray(T)?new o(T):T}if(S)return c===!1?S instanceof i?S:S.nodes:this.nodes.length?this:new i(ne(c),S instanceof i?[S]:S.nodes);if(!(c===!1||!this.nodes.length))return this}optimizeNames(c,S){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(c,S),!!(super.optimizeNames(c,S)||this.else))return this.condition=U(this.condition,c,S),this}get names(){const c=super.names;return F(c,this.condition),this.else&&z(c,this.else.names),c}}i.kind="if";class t extends y{}t.kind="for";class s extends t{constructor(c){super(),this.iteration=c}render(c){return`for(${this.iteration})`+super.render(c)}optimizeNames(c,S){if(super.optimizeNames(c,S))return this.iteration=U(this.iteration,c,S),this}get names(){return z(super.names,this.iteration.names)}}class f extends t{constructor(c,S,T,K){super(),this.varKind=c,this.name=S,this.from=T,this.to=K}render(c){const S=c.es5?w.varKinds.var:this.varKind,{name:T,from:K,to:H}=this;return`for(${S} ${T}=${K}; ${T}<${H}; ${T}++)`+super.render(c)}get names(){const c=F(super.names,this.from);return F(c,this.to)}}class n extends t{constructor(c,S,T,K){super(),this.loop=c,this.varKind=S,this.name=T,this.iterable=K}render(c){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(c)}optimizeNames(c,S){if(super.optimizeNames(c,S))return this.iterable=U(this.iterable,c,S),this}get names(){return z(super.names,this.iterable.names)}}class d extends y{constructor(c,S,T){super(),this.name=c,this.args=S,this.async=T}render(c){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(c)}}d.kind="func";class E extends p{render(c){return"return "+super.render(c)}}E.kind="return";class j extends y{render(c){let S="try"+super.render(c);return this.catch&&(S+=this.catch.render(c)),this.finally&&(S+=this.finally.render(c)),S}optimizeNodes(){var c,S;return super.optimizeNodes(),(c=this.catch)===null||c===void 0||c.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(c,S){var T,K;return super.optimizeNames(c,S),(T=this.catch)===null||T===void 0||T.optimizeNames(c,S),(K=this.finally)===null||K===void 0||K.optimizeNames(c,S),this}get names(){const c=super.names;return this.catch&&z(c,this.catch.names),this.finally&&z(c,this.finally.names),c}}class M extends y{constructor(c){super(),this.error=c}render(c){return`catch(${this.error})`+super.render(c)}}M.kind="catch";class V extends y{render(c){return"finally"+super.render(c)}}V.kind="finally";class I{constructor(c,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=c,this._scope=new w.Scope({parent:c}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(c){return this._scope.name(c)}scopeName(c){return this._extScope.name(c)}scopeValue(c,S){const T=this._extScope.value(c,S);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(c,S){return this._extScope.getValue(c,S)}scopeRefs(c){return this._extScope.scopeRefs(c,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(c,S,T,K){const H=this._scope.toName(S);return T!==void 0&&K&&(this._constants[H.str]=T),this._leafNode(new m(c,H,T)),H}const(c,S,T){return this._def(w.varKinds.const,c,S,T)}let(c,S,T){return this._def(w.varKinds.let,c,S,T)}var(c,S,T){return this._def(w.varKinds.var,c,S,T)}assign(c,S,T){return this._leafNode(new u(c,S,T))}add(c,S){return this._leafNode(new h(c,e.operators.ADD,S))}code(c){return typeof c=="function"?c():c!==r.nil&&this._leafNode(new v(c)),this}object(...c){const S=["{"];for(const[T,K]of c)S.length>1&&S.push(","),S.push(T),(T!==K||this.opts.es5)&&(S.push(":"),(0,r.addCodeArg)(S,K));return S.push("}"),new r._Code(S)}if(c,S,T){if(this._blockNode(new i(c)),S&&T)this.code(S).else().code(T).endIf();else if(S)this.code(S).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(c){return this._elseNode(new i(c))}else(){return this._elseNode(new o)}endIf(){return this._endBlockNode(i,o)}_for(c,S){return this._blockNode(c),S&&this.code(S).endFor(),this}for(c,S){return this._for(new s(c),S)}forRange(c,S,T,K,H=this.opts.es5?w.varKinds.var:w.varKinds.let){const Z=this._scope.toName(c);return this._for(new f(H,Z,S,T),()=>K(Z))}forOf(c,S,T,K=w.varKinds.const){const H=this._scope.toName(c);if(this.opts.es5){const Z=S instanceof r.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,r._)`${Z}.length`,B=>{this.var(H,(0,r._)`${Z}[${B}]`),T(H)})}return this._for(new n("of",K,H,S),()=>T(H))}forIn(c,S,T,K=this.opts.es5?w.varKinds.var:w.varKinds.const){if(this.opts.ownProperties)return this.forOf(c,(0,r._)`Object.keys(${S})`,T);const H=this._scope.toName(c);return this._for(new n("in",K,H,S),()=>T(H))}endFor(){return this._endBlockNode(t)}label(c){return this._leafNode(new $(c))}break(c){return this._leafNode(new _(c))}return(c){const S=new E;if(this._blockNode(S),this.code(c),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(c,S,T){if(!S&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new j;if(this._blockNode(K),this.code(c),S){const H=this.name("e");this._currNode=K.catch=new M(H),S(H)}return T&&(this._currNode=K.finally=new V,this.code(T)),this._endBlockNode(M,V)}throw(c){return this._leafNode(new P(c))}block(c,S){return this._blockStarts.push(this._nodes.length),c&&this.code(c).endBlock(S),this}endBlock(c){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-S;if(T<0||c!==void 0&&T!==c)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${c} expected`);return this._nodes.length=S,this}func(c,S=r.nil,T,K){return this._blockNode(new d(c,S,T)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(d)}optimize(c=1){for(;c-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(c){return this._currNode.nodes.push(c),this}_blockNode(c){this._currNode.nodes.push(c),this._nodes.push(c)}_endBlockNode(c,S){const T=this._currNode;if(T instanceof c||S&&T instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${c.kind}/${S.kind}`:c.kind}"`)}_elseNode(c){const S=this._currNode;if(!(S instanceof i))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=c,this}get _root(){return this._nodes[0]}get _currNode(){const c=this._nodes;return c[c.length-1]}set _currNode(c){const S=this._nodes;S[S.length-1]=c}}e.CodeGen=I;function z(O,c){for(const S in c)O[S]=(O[S]||0)+(c[S]||0);return O}function F(O,c){return c instanceof r._CodeOrName?z(O,c.names):O}function U(O,c,S){if(O instanceof r.Name)return T(O);if(!K(O))return O;return new r._Code(O._items.reduce((H,Z)=>(Z instanceof r.Name&&(Z=T(Z)),Z instanceof r._Code?H.push(...Z._items):H.push(Z),H),[]));function T(H){const Z=S[H.str];return Z===void 0||c[H.str]!==1?H:(delete c[H.str],Z)}function K(H){return H instanceof r._Code&&H._items.some(Z=>Z instanceof r.Name&&c[Z.str]===1&&S[Z.str]!==void 0)}}function Q(O,c){for(const S in c)O[S]=(O[S]||0)-(c[S]||0)}function ne(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,r._)`!${C(O)}`}e.not=ne;const se=R(e.operators.AND);function x(...O){return O.reduce(se)}e.and=x;const de=R(e.operators.OR);function A(...O){return O.reduce(de)}e.or=A;function R(O){return(c,S)=>c===r.nil?S:S===r.nil?c:(0,r._)`${C(c)} ${O} ${C(S)}`}function C(O){return O instanceof r.Name?O:(0,r._)`(${O})`}})(Pt)),Pt}var G={},Ht;function Y(){if(Ht)return G;Ht=1,Object.defineProperty(G,"__esModule",{value:!0}),G.checkStrictMode=G.getErrorPath=G.Type=G.useFunc=G.setEvaluated=G.evaluatedPropsToName=G.mergeEvaluated=G.eachItem=G.unescapeJsonPointer=G.escapeJsonPointer=G.escapeFragment=G.unescapeFragment=G.schemaRefOrVal=G.schemaHasRulesButRef=G.schemaHasRules=G.checkUnknownRules=G.alwaysValidSchema=G.toHash=void 0;const e=J(),r=mt();function w(n){const d={};for(const E of n)d[E]=!0;return d}G.toHash=w;function l(n,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(b(n,d),!a(d,n.self.RULES.all))}G.alwaysValidSchema=l;function b(n,d=n.schema){const{opts:E,self:j}=n;if(!E.strictSchema||typeof d=="boolean")return;const M=j.RULES.keywords;for(const V in d)M[V]||f(n,`unknown keyword: "${V}"`)}G.checkUnknownRules=b;function a(n,d){if(typeof n=="boolean")return!n;for(const E in n)if(d[E])return!0;return!1}G.schemaHasRules=a;function m(n,d){if(typeof n=="boolean")return!n;for(const E in n)if(E!=="$ref"&&d.all[E])return!0;return!1}G.schemaHasRulesButRef=m;function u({topSchemaRef:n,schemaPath:d},E,j,M){if(!M){if(typeof E=="number"||typeof E=="boolean")return E;if(typeof E=="string")return(0,e._)`${E}`}return(0,e._)`${n}${d}${(0,e.getProperty)(j)}`}G.schemaRefOrVal=u;function h(n){return P(decodeURIComponent(n))}G.unescapeFragment=h;function $(n){return encodeURIComponent(_(n))}G.escapeFragment=$;function _(n){return typeof n=="number"?`${n}`:n.replace(/~/g,"~0").replace(/\//g,"~1")}G.escapeJsonPointer=_;function P(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}G.unescapeJsonPointer=P;function v(n,d){if(Array.isArray(n))for(const E of n)d(E);else d(n)}G.eachItem=v;function p({mergeNames:n,mergeToName:d,mergeValues:E,resultToName:j}){return(M,V,I,z)=>{const F=I===void 0?V:I instanceof e.Name?(V instanceof e.Name?n(M,V,I):d(M,V,I),I):V instanceof e.Name?(d(M,I,V),V):E(V,I);return z===e.Name&&!(F instanceof e.Name)?j(M,F):F}}G.mergeEvaluated={props:p({mergeNames:(n,d,E)=>n.if((0,e._)`${E} !== true && ${d} !== undefined`,()=>{n.if((0,e._)`${d} === true`,()=>n.assign(E,!0),()=>n.assign(E,(0,e._)`${E} || {}`).code((0,e._)`Object.assign(${E}, ${d})`))}),mergeToName:(n,d,E)=>n.if((0,e._)`${E} !== true`,()=>{d===!0?n.assign(E,!0):(n.assign(E,(0,e._)`${E} || {}`),g(n,E,d))}),mergeValues:(n,d)=>n===!0?!0:{...n,...d},resultToName:y}),items:p({mergeNames:(n,d,E)=>n.if((0,e._)`${E} !== true && ${d} !== undefined`,()=>n.assign(E,(0,e._)`${d} === true ? true : ${E} > ${d} ? ${E} : ${d}`)),mergeToName:(n,d,E)=>n.if((0,e._)`${E} !== true`,()=>n.assign(E,d===!0?!0:(0,e._)`${E} > ${d} ? ${E} : ${d}`)),mergeValues:(n,d)=>n===!0?!0:Math.max(n,d),resultToName:(n,d)=>n.var("items",d)})};function y(n,d){if(d===!0)return n.var("props",!0);const E=n.var("props",(0,e._)`{}`);return d!==void 0&&g(n,E,d),E}G.evaluatedPropsToName=y;function g(n,d,E){Object.keys(E).forEach(j=>n.assign((0,e._)`${d}${(0,e.getProperty)(j)}`,!0))}G.setEvaluated=g;const o={};function i(n,d){return n.scopeValue("func",{ref:d,code:o[d.code]||(o[d.code]=new r._Code(d.code))})}G.useFunc=i;var t;(function(n){n[n.Num=0]="Num",n[n.Str=1]="Str"})(t||(G.Type=t={}));function s(n,d,E){if(n instanceof e.Name){const j=d===t.Num;return E?j?(0,e._)`"[" + ${n} + "]"`:(0,e._)`"['" + ${n} + "']"`:j?(0,e._)`"/" + ${n}`:(0,e._)`"/" + ${n}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,e.getProperty)(n).toString():"/"+_(n)}G.getErrorPath=s;function f(n,d,E=n.opts.strictSchema){if(E){if(d=`strict mode: ${d}`,E===!0)throw new Error(d);n.self.logger.warn(d)}}return G.checkStrictMode=f,G}var je={},Gt;function ve(){if(Gt)return je;Gt=1,Object.defineProperty(je,"__esModule",{value:!0});const e=J(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return je.default=r,je}var Jt;function yt(){return Jt||(Jt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=J(),w=Y(),l=ve();e.keywordError={message:({keyword:o})=>(0,r.str)`must pass "${o}" keyword validation`},e.keyword$DataError={message:({keyword:o,schemaType:i})=>i?(0,r.str)`"${o}" keyword must be ${i} ($data)`:(0,r.str)`"${o}" keyword is invalid ($data)`};function b(o,i=e.keywordError,t,s){const{it:f}=o,{gen:n,compositeRule:d,allErrors:E}=f,j=P(o,i,t);s??(d||E)?h(n,j):$(f,(0,r._)`[${j}]`)}e.reportError=b;function a(o,i=e.keywordError,t){const{it:s}=o,{gen:f,compositeRule:n,allErrors:d}=s,E=P(o,i,t);h(f,E),n||d||$(s,l.default.vErrors)}e.reportExtraError=a;function m(o,i){o.assign(l.default.errors,i),o.if((0,r._)`${l.default.vErrors} !== null`,()=>o.if(i,()=>o.assign((0,r._)`${l.default.vErrors}.length`,i),()=>o.assign(l.default.vErrors,null)))}e.resetErrorsCount=m;function u({gen:o,keyword:i,schemaValue:t,data:s,errsCount:f,it:n}){if(f===void 0)throw new Error("ajv implementation error");const d=o.name("err");o.forRange("i",f,l.default.errors,E=>{o.const(d,(0,r._)`${l.default.vErrors}[${E}]`),o.if((0,r._)`${d}.instancePath === undefined`,()=>o.assign((0,r._)`${d}.instancePath`,(0,r.strConcat)(l.default.instancePath,n.errorPath))),o.assign((0,r._)`${d}.schemaPath`,(0,r.str)`${n.errSchemaPath}/${i}`),n.opts.verbose&&(o.assign((0,r._)`${d}.schema`,t),o.assign((0,r._)`${d}.data`,s))})}e.extendErrors=u;function h(o,i){const t=o.const("err",i);o.if((0,r._)`${l.default.vErrors} === null`,()=>o.assign(l.default.vErrors,(0,r._)`[${t}]`),(0,r._)`${l.default.vErrors}.push(${t})`),o.code((0,r._)`${l.default.errors}++`)}function $(o,i){const{gen:t,validateName:s,schemaEnv:f}=o;f.$async?t.throw((0,r._)`new ${o.ValidationError}(${i})`):(t.assign((0,r._)`${s}.errors`,i),t.return(!1))}const _={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function P(o,i,t){const{createErrors:s}=o.it;return s===!1?(0,r._)`{}`:v(o,i,t)}function v(o,i,t={}){const{gen:s,it:f}=o,n=[p(f,t),y(o,t)];return g(o,i,n),s.object(...n)}function p({errorPath:o},{instancePath:i}){const t=i?(0,r.str)`${o}${(0,w.getErrorPath)(i,w.Type.Str)}`:o;return[l.default.instancePath,(0,r.strConcat)(l.default.instancePath,t)]}function y({keyword:o,it:{errSchemaPath:i}},{schemaPath:t,parentSchema:s}){let f=s?i:(0,r.str)`${i}/${o}`;return t&&(f=(0,r.str)`${f}${(0,w.getErrorPath)(t,w.Type.Str)}`),[_.schemaPath,f]}function g(o,{params:i,message:t},s){const{keyword:f,data:n,schemaValue:d,it:E}=o,{opts:j,propertyName:M,topSchemaRef:V,schemaPath:I}=E;s.push([_.keyword,f],[_.params,typeof i=="function"?i(o):i||(0,r._)`{}`]),j.messages&&s.push([_.message,typeof t=="function"?t(o):t]),j.verbose&&s.push([_.schema,d],[_.parentSchema,(0,r._)`${V}${I}`],[l.default.data,n]),M&&s.push([_.propertyName,M])}})(St)),St}var Wt;function ln(){if(Wt)return $e;Wt=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.boolOrEmptySchema=$e.topBoolOrEmptySchema=void 0;const e=yt(),r=J(),w=ve(),l={message:"boolean schema is false"};function b(u){const{gen:h,schema:$,validateName:_}=u;$===!1?m(u,!1):typeof $=="object"&&$.$async===!0?h.return(w.default.data):(h.assign((0,r._)`${_}.errors`,null),h.return(!0))}$e.topBoolOrEmptySchema=b;function a(u,h){const{gen:$,schema:_}=u;_===!1?($.var(h,!1),m(u)):$.var(h,!0)}$e.boolOrEmptySchema=a;function m(u,h){const{gen:$,data:_}=u,P={gen:$,keyword:"false schema",data:_,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u};(0,e.reportError)(P,l,void 0,h)}return $e}var re={},ge={},Bt;function rn(){if(Bt)return ge;Bt=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.getRules=ge.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],r=new Set(e);function w(b){return typeof b=="string"&&r.has(b)}ge.isJSONType=w;function l(){const b={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...b,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},b.number,b.string,b.array,b.object],post:{rules:[]},all:{},keywords:{}}}return ge.getRules=l,ge}var pe={},Yt;function nn(){if(Yt)return pe;Yt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.shouldUseRule=pe.shouldUseGroup=pe.schemaHasRulesForType=void 0;function e({schema:l,self:b},a){const m=b.RULES.types[a];return m&&m!==!0&&r(l,m)}pe.schemaHasRulesForType=e;function r(l,b){return b.rules.some(a=>w(l,a))}pe.shouldUseGroup=r;function w(l,b){var a;return l[b.keyword]!==void 0||((a=b.definition.implements)===null||a===void 0?void 0:a.some(m=>l[m]!==void 0))}return pe.shouldUseRule=w,pe}var Zt;function pt(){if(Zt)return re;Zt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;const e=rn(),r=nn(),w=yt(),l=J(),b=Y();var a;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(a||(re.DataType=a={}));function m(t){const s=u(t.type);if(s.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!s.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&s.push("null")}return s}re.getSchemaTypes=m;function u(t){const s=Array.isArray(t)?t:t?[t]:[];if(s.every(e.isJSONType))return s;throw new Error("type must be JSONType or JSONType[]: "+s.join(","))}re.getJSONTypes=u;function h(t,s){const{gen:f,data:n,opts:d}=t,E=_(s,d.coerceTypes),j=s.length>0&&!(E.length===0&&s.length===1&&(0,r.schemaHasRulesForType)(t,s[0]));if(j){const M=y(s,n,d.strictNumbers,a.Wrong);f.if(M,()=>{E.length?P(t,s,E):o(t)})}return j}re.coerceAndCheckDataType=h;const $=new Set(["string","number","integer","boolean","null"]);function _(t,s){return s?t.filter(f=>$.has(f)||s==="array"&&f==="array"):[]}function P(t,s,f){const{gen:n,data:d,opts:E}=t,j=n.let("dataType",(0,l._)`typeof ${d}`),M=n.let("coerced",(0,l._)`undefined`);E.coerceTypes==="array"&&n.if((0,l._)`${j} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>n.assign(d,(0,l._)`${d}[0]`).assign(j,(0,l._)`typeof ${d}`).if(y(s,d,E.strictNumbers),()=>n.assign(M,d))),n.if((0,l._)`${M} !== undefined`);for(const I of f)($.has(I)||I==="array"&&E.coerceTypes==="array")&&V(I);n.else(),o(t),n.endIf(),n.if((0,l._)`${M} !== undefined`,()=>{n.assign(d,M),v(t,M)});function V(I){switch(I){case"string":n.elseIf((0,l._)`${j} == "number" || ${j} == "boolean"`).assign(M,(0,l._)`"" + ${d}`).elseIf((0,l._)`${d} === null`).assign(M,(0,l._)`""`);return;case"number":n.elseIf((0,l._)`${j} == "boolean" || ${d} === null
              || (${j} == "string" && ${d} && ${d} == +${d})`).assign(M,(0,l._)`+${d}`);return;case"integer":n.elseIf((0,l._)`${j} === "boolean" || ${d} === null
              || (${j} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(M,(0,l._)`+${d}`);return;case"boolean":n.elseIf((0,l._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(M,!1).elseIf((0,l._)`${d} === "true" || ${d} === 1`).assign(M,!0);return;case"null":n.elseIf((0,l._)`${d} === "" || ${d} === 0 || ${d} === false`),n.assign(M,null);return;case"array":n.elseIf((0,l._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${d} === null`).assign(M,(0,l._)`[${d}]`)}}}function v({gen:t,parentData:s,parentDataProperty:f},n){t.if((0,l._)`${s} !== undefined`,()=>t.assign((0,l._)`${s}[${f}]`,n))}function p(t,s,f,n=a.Correct){const d=n===a.Correct?l.operators.EQ:l.operators.NEQ;let E;switch(t){case"null":return(0,l._)`${s} ${d} null`;case"array":E=(0,l._)`Array.isArray(${s})`;break;case"object":E=(0,l._)`${s} && typeof ${s} == "object" && !Array.isArray(${s})`;break;case"integer":E=j((0,l._)`!(${s} % 1) && !isNaN(${s})`);break;case"number":E=j();break;default:return(0,l._)`typeof ${s} ${d} ${t}`}return n===a.Correct?E:(0,l.not)(E);function j(M=l.nil){return(0,l.and)((0,l._)`typeof ${s} == "number"`,M,f?(0,l._)`isFinite(${s})`:l.nil)}}re.checkDataType=p;function y(t,s,f,n){if(t.length===1)return p(t[0],s,f,n);let d;const E=(0,b.toHash)(t);if(E.array&&E.object){const j=(0,l._)`typeof ${s} != "object"`;d=E.null?j:(0,l._)`!${s} || ${j}`,delete E.null,delete E.array,delete E.object}else d=l.nil;E.number&&delete E.integer;for(const j in E)d=(0,l.and)(d,p(j,s,f,n));return d}re.checkDataTypes=y;const g={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:s})=>typeof t=="string"?(0,l._)`{type: ${t}}`:(0,l._)`{type: ${s}}`};function o(t){const s=i(t);(0,w.reportError)(s,g)}re.reportTypeError=o;function i(t){const{gen:s,data:f,schema:n}=t,d=(0,b.schemaRefOrVal)(t,n,"type");return{gen:s,keyword:"type",data:f,schema:n.type,schemaCode:d,schemaValue:d,parentSchema:n,params:{},it:t}}return re}var Ne={},Qt;function fn(){if(Qt)return Ne;Qt=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.assignDefaults=void 0;const e=J(),r=Y();function w(b,a){const{properties:m,items:u}=b.schema;if(a==="object"&&m)for(const h in m)l(b,h,m[h].default);else a==="array"&&Array.isArray(u)&&u.forEach((h,$)=>l(b,$,h.default))}Ne.assignDefaults=w;function l(b,a,m){const{gen:u,compositeRule:h,data:$,opts:_}=b;if(m===void 0)return;const P=(0,e._)`${$}${(0,e.getProperty)(a)}`;if(h){(0,r.checkStrictMode)(b,`default is ignored for: ${P}`);return}let v=(0,e._)`${P} === undefined`;_.useDefaults==="empty"&&(v=(0,e._)`${v} || ${P} === null || ${P} === ""`),u.if(v,(0,e._)`${P} = ${(0,e.stringify)(m)}`)}return Ne}var fe={},X={},Xt;function he(){if(Xt)return X;Xt=1,Object.defineProperty(X,"__esModule",{value:!0}),X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;const e=J(),r=Y(),w=ve(),l=Y();function b(t,s){const{gen:f,data:n,it:d}=t;f.if(_(f,n,s,d.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${s}`},!0),t.error()})}X.checkReportMissingProp=b;function a({gen:t,data:s,it:{opts:f}},n,d){return(0,e.or)(...n.map(E=>(0,e.and)(_(t,s,E,f.ownProperties),(0,e._)`${d} = ${E}`)))}X.checkMissingProp=a;function m(t,s){t.setParams({missingProperty:s},!0),t.error()}X.reportMissingProp=m;function u(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}X.hasPropFunc=u;function h(t,s,f){return(0,e._)`${u(t)}.call(${s}, ${f})`}X.isOwnProperty=h;function $(t,s,f,n){const d=(0,e._)`${s}${(0,e.getProperty)(f)} !== undefined`;return n?(0,e._)`${d} && ${h(t,s,f)}`:d}X.propertyInData=$;function _(t,s,f,n){const d=(0,e._)`${s}${(0,e.getProperty)(f)} === undefined`;return n?(0,e.or)(d,(0,e.not)(h(t,s,f))):d}X.noPropertyInData=_;function P(t){return t?Object.keys(t).filter(s=>s!=="__proto__"):[]}X.allSchemaProperties=P;function v(t,s){return P(s).filter(f=>!(0,r.alwaysValidSchema)(t,s[f]))}X.schemaProperties=v;function p({schemaCode:t,data:s,it:{gen:f,topSchemaRef:n,schemaPath:d,errorPath:E},it:j},M,V,I){const z=I?(0,e._)`${t}, ${s}, ${n}${d}`:s,F=[[w.default.instancePath,(0,e.strConcat)(w.default.instancePath,E)],[w.default.parentData,j.parentData],[w.default.parentDataProperty,j.parentDataProperty],[w.default.rootData,w.default.rootData]];j.opts.dynamicRef&&F.push([w.default.dynamicAnchors,w.default.dynamicAnchors]);const U=(0,e._)`${z}, ${f.object(...F)}`;return V!==e.nil?(0,e._)`${M}.call(${V}, ${U})`:(0,e._)`${M}(${U})`}X.callValidateCode=p;const y=(0,e._)`new RegExp`;function g({gen:t,it:{opts:s}},f){const n=s.unicodeRegExp?"u":"",{regExp:d}=s.code,E=d(f,n);return t.scopeValue("pattern",{key:E.toString(),ref:E,code:(0,e._)`${d.code==="new RegExp"?y:(0,l.useFunc)(t,d)}(${f}, ${n})`})}X.usePattern=g;function o(t){const{gen:s,data:f,keyword:n,it:d}=t,E=s.name("valid");if(d.allErrors){const M=s.let("valid",!0);return j(()=>s.assign(M,!1)),M}return s.var(E,!0),j(()=>s.break()),E;function j(M){const V=s.const("len",(0,e._)`${f}.length`);s.forRange("i",0,V,I=>{t.subschema({keyword:n,dataProp:I,dataPropType:r.Type.Num},E),s.if((0,e.not)(E),M)})}}X.validateArray=o;function i(t){const{gen:s,schema:f,keyword:n,it:d}=t;if(!Array.isArray(f))throw new Error("ajv implementation error");if(f.some(V=>(0,r.alwaysValidSchema)(d,V))&&!d.opts.unevaluated)return;const j=s.let("valid",!1),M=s.name("_valid");s.block(()=>f.forEach((V,I)=>{const z=t.subschema({keyword:n,schemaProp:I,compositeRule:!0},M);s.assign(j,(0,e._)`${j} || ${M}`),t.mergeValidEvaluated(z,M)||s.if((0,e.not)(j))})),t.result(j,()=>t.reset(),()=>t.error(!0))}return X.validateUnion=i,X}var xt;function hn(){if(xt)return fe;xt=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.validateKeywordUsage=fe.validSchemaType=fe.funcKeywordCode=fe.macroKeywordCode=void 0;const e=J(),r=ve(),w=he(),l=yt();function b(v,p){const{gen:y,keyword:g,schema:o,parentSchema:i,it:t}=v,s=p.macro.call(t.self,o,i,t),f=$(y,g,s);t.opts.validateSchema!==!1&&t.self.validateSchema(s,!0);const n=y.name("valid");v.subschema({schema:s,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${g}`,topSchemaRef:f,compositeRule:!0},n),v.pass(n,()=>v.error(!0))}fe.macroKeywordCode=b;function a(v,p){var y;const{gen:g,keyword:o,schema:i,parentSchema:t,$data:s,it:f}=v;h(f,p);const n=!s&&p.compile?p.compile.call(f.self,i,t,f):p.validate,d=$(g,o,n),E=g.let("valid");v.block$data(E,j),v.ok((y=p.valid)!==null&&y!==void 0?y:E);function j(){if(p.errors===!1)I(),p.modifying&&m(v),z(()=>v.error());else{const F=p.async?M():V();p.modifying&&m(v),z(()=>u(v,F))}}function M(){const F=g.let("ruleErrs",null);return g.try(()=>I((0,e._)`await `),U=>g.assign(E,!1).if((0,e._)`${U} instanceof ${f.ValidationError}`,()=>g.assign(F,(0,e._)`${U}.errors`),()=>g.throw(U))),F}function V(){const F=(0,e._)`${d}.errors`;return g.assign(F,null),I(e.nil),F}function I(F=p.async?(0,e._)`await `:e.nil){const U=f.opts.passContext?r.default.this:r.default.self,Q=!("compile"in p&&!s||p.schema===!1);g.assign(E,(0,e._)`${F}${(0,w.callValidateCode)(v,d,U,Q)}`,p.modifying)}function z(F){var U;g.if((0,e.not)((U=p.valid)!==null&&U!==void 0?U:E),F)}}fe.funcKeywordCode=a;function m(v){const{gen:p,data:y,it:g}=v;p.if(g.parentData,()=>p.assign(y,(0,e._)`${g.parentData}[${g.parentDataProperty}]`))}function u(v,p){const{gen:y}=v;y.if((0,e._)`Array.isArray(${p})`,()=>{y.assign(r.default.vErrors,(0,e._)`${r.default.vErrors} === null ? ${p} : ${r.default.vErrors}.concat(${p})`).assign(r.default.errors,(0,e._)`${r.default.vErrors}.length`),(0,l.extendErrors)(v)},()=>v.error())}function h({schemaEnv:v},p){if(p.async&&!v.$async)throw new Error("async keyword in sync schema")}function $(v,p,y){if(y===void 0)throw new Error(`keyword "${p}" failed to compile`);return v.scopeValue("keyword",typeof y=="function"?{ref:y}:{ref:y,code:(0,e.stringify)(y)})}function _(v,p,y=!1){return!p.length||p.some(g=>g==="array"?Array.isArray(v):g==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==g||y&&typeof v>"u")}fe.validSchemaType=_;function P({schema:v,opts:p,self:y,errSchemaPath:g},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const t=o.dependencies;if(t?.some(s=>!Object.prototype.hasOwnProperty.call(v,s)))throw new Error(`parent schema must have dependencies of ${i}: ${t.join(",")}`);if(o.validateSchema&&!o.validateSchema(v[i])){const f=`keyword "${i}" value is invalid at path "${g}": `+y.errorsText(o.validateSchema.errors);if(p.validateSchema==="log")y.logger.error(f);else throw new Error(f)}}return fe.validateKeywordUsage=P,fe}var ye={},er;function mn(){if(er)return ye;er=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.extendSubschemaMode=ye.extendSubschemaData=ye.getSubschema=void 0;const e=J(),r=Y();function w(a,{keyword:m,schemaProp:u,schema:h,schemaPath:$,errSchemaPath:_,topSchemaRef:P}){if(m!==void 0&&h!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(m!==void 0){const v=a.schema[m];return u===void 0?{schema:v,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(m)}`,errSchemaPath:`${a.errSchemaPath}/${m}`}:{schema:v[u],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(m)}${(0,e.getProperty)(u)}`,errSchemaPath:`${a.errSchemaPath}/${m}/${(0,r.escapeFragment)(u)}`}}if(h!==void 0){if($===void 0||_===void 0||P===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:h,schemaPath:$,topSchemaRef:P,errSchemaPath:_}}throw new Error('either "keyword" or "schema" must be passed')}ye.getSubschema=w;function l(a,m,{dataProp:u,dataPropType:h,data:$,dataTypes:_,propertyName:P}){if($!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=m;if(u!==void 0){const{errorPath:y,dataPathArr:g,opts:o}=m,i=v.let("data",(0,e._)`${m.data}${(0,e.getProperty)(u)}`,!0);p(i),a.errorPath=(0,e.str)`${y}${(0,r.getErrorPath)(u,h,o.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${u}`,a.dataPathArr=[...g,a.parentDataProperty]}if($!==void 0){const y=$ instanceof e.Name?$:v.let("data",$,!0);p(y),P!==void 0&&(a.propertyName=P)}_&&(a.dataTypes=_);function p(y){a.data=y,a.dataLevel=m.dataLevel+1,a.dataTypes=[],m.definedProperties=new Set,a.parentData=m.data,a.dataNames=[...m.dataNames,y]}}ye.extendSubschemaData=l;function b(a,{jtdDiscriminator:m,jtdMetadata:u,compositeRule:h,createErrors:$,allErrors:_}){h!==void 0&&(a.compositeRule=h),$!==void 0&&(a.createErrors=$),_!==void 0&&(a.allErrors=_),a.jtdDiscriminator=m,a.jtdMetadata=u}return ye.extendSubschemaMode=b,ye}var ae={},kt,tr;function sn(){return tr||(tr=1,kt=function e(r,w){if(r===w)return!0;if(r&&w&&typeof r=="object"&&typeof w=="object"){if(r.constructor!==w.constructor)return!1;var l,b,a;if(Array.isArray(r)){if(l=r.length,l!=w.length)return!1;for(b=l;b--!==0;)if(!e(r[b],w[b]))return!1;return!0}if(r.constructor===RegExp)return r.source===w.source&&r.flags===w.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===w.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===w.toString();if(a=Object.keys(r),l=a.length,l!==Object.keys(w).length)return!1;for(b=l;b--!==0;)if(!Object.prototype.hasOwnProperty.call(w,a[b]))return!1;for(b=l;b--!==0;){var m=a[b];if(!e(r[m],w[m]))return!1}return!0}return r!==r&&w!==w}),kt}var Ot={exports:{}},rr;function pn(){if(rr)return Ot.exports;rr=1;var e=Ot.exports=function(l,b,a){typeof b=="function"&&(a=b,b={}),a=b.cb||a;var m=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};r(b,m,u,l,"",l)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function r(l,b,a,m,u,h,$,_,P,v){if(m&&typeof m=="object"&&!Array.isArray(m)){b(m,u,h,$,_,P,v);for(var p in m){var y=m[p];if(Array.isArray(y)){if(p in e.arrayKeywords)for(var g=0;g<y.length;g++)r(l,b,a,y[g],u+"/"+p+"/"+g,h,u,p,m,g)}else if(p in e.propsKeywords){if(y&&typeof y=="object")for(var o in y)r(l,b,a,y[o],u+"/"+p+"/"+w(o),h,u,p,m,o)}else(p in e.keywords||l.allKeys&&!(p in e.skipKeywords))&&r(l,b,a,y,u+"/"+p,h,u,p,m)}a(m,u,h,$,_,P,v)}}function w(l){return l.replace(/~/g,"~0").replace(/\//g,"~1")}return Ot.exports}var nr;function _t(){if(nr)return ae;nr=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.getSchemaRefs=ae.resolveUrl=ae.normalizeId=ae._getFullPath=ae.getFullPath=ae.inlineRef=void 0;const e=Y(),r=sn(),w=pn(),l=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function b(g,o=!0){return typeof g=="boolean"?!0:o===!0?!m(g):o?u(g)<=o:!1}ae.inlineRef=b;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function m(g){for(const o in g){if(a.has(o))return!0;const i=g[o];if(Array.isArray(i)&&i.some(m)||typeof i=="object"&&m(i))return!0}return!1}function u(g){let o=0;for(const i in g){if(i==="$ref")return 1/0;if(o++,!l.has(i)&&(typeof g[i]=="object"&&(0,e.eachItem)(g[i],t=>o+=u(t)),o===1/0))return 1/0}return o}function h(g,o="",i){i!==!1&&(o=P(o));const t=g.parse(o);return $(g,t)}ae.getFullPath=h;function $(g,o){return g.serialize(o).split("#")[0]+"#"}ae._getFullPath=$;const _=/#\/?$/;function P(g){return g?g.replace(_,""):""}ae.normalizeId=P;function v(g,o,i){return i=P(i),g.resolve(o,i)}ae.resolveUrl=v;const p=/^[a-z_][-a-z0-9._]*$/i;function y(g,o){if(typeof g=="boolean")return{};const{schemaId:i,uriResolver:t}=this.opts,s=P(g[i]||o),f={"":s},n=h(t,s,!1),d={},E=new Set;return w(g,{allKeys:!0},(V,I,z,F)=>{if(F===void 0)return;const U=n+I;let Q=f[F];typeof V[i]=="string"&&(Q=ne.call(this,V[i])),se.call(this,V.$anchor),se.call(this,V.$dynamicAnchor),f[I]=Q;function ne(x){const de=this.opts.uriResolver.resolve;if(x=P(Q?de(Q,x):x),E.has(x))throw M(x);E.add(x);let A=this.refs[x];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?j(V,A.schema,x):x!==P(U)&&(x[0]==="#"?(j(V,d[x],x),d[x]=V):this.refs[x]=U),x}function se(x){if(typeof x=="string"){if(!p.test(x))throw new Error(`invalid anchor "${x}"`);ne.call(this,`#${x}`)}}}),d;function j(V,I,z){if(I!==void 0&&!r(V,I))throw M(z)}function M(V){return new Error(`reference "${V}" resolves to more than one schema`)}}return ae.getSchemaRefs=y,ae}var sr;function vt(){if(sr)return me;sr=1,Object.defineProperty(me,"__esModule",{value:!0}),me.getData=me.KeywordCxt=me.validateFunctionCode=void 0;const e=ln(),r=pt(),w=nn(),l=pt(),b=fn(),a=hn(),m=mn(),u=J(),h=ve(),$=_t(),_=Y(),P=yt();function v(N){if(n(N)&&(E(N),f(N))){o(N);return}p(N,()=>(0,e.topBoolOrEmptySchema)(N))}me.validateFunctionCode=v;function p({gen:N,validateName:k,schema:q,schemaEnv:D,opts:L},W){L.code.es5?N.func(k,(0,u._)`${h.default.data}, ${h.default.valCxt}`,D.$async,()=>{N.code((0,u._)`"use strict"; ${t(q,L)}`),g(N,L),N.code(W)}):N.func(k,(0,u._)`${h.default.data}, ${y(L)}`,D.$async,()=>N.code(t(q,L)).code(W))}function y(N){return(0,u._)`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${N.dynamicRef?(0,u._)`, ${h.default.dynamicAnchors}={}`:u.nil}}={}`}function g(N,k){N.if(h.default.valCxt,()=>{N.var(h.default.instancePath,(0,u._)`${h.default.valCxt}.${h.default.instancePath}`),N.var(h.default.parentData,(0,u._)`${h.default.valCxt}.${h.default.parentData}`),N.var(h.default.parentDataProperty,(0,u._)`${h.default.valCxt}.${h.default.parentDataProperty}`),N.var(h.default.rootData,(0,u._)`${h.default.valCxt}.${h.default.rootData}`),k.dynamicRef&&N.var(h.default.dynamicAnchors,(0,u._)`${h.default.valCxt}.${h.default.dynamicAnchors}`)},()=>{N.var(h.default.instancePath,(0,u._)`""`),N.var(h.default.parentData,(0,u._)`undefined`),N.var(h.default.parentDataProperty,(0,u._)`undefined`),N.var(h.default.rootData,h.default.data),k.dynamicRef&&N.var(h.default.dynamicAnchors,(0,u._)`{}`)})}function o(N){const{schema:k,opts:q,gen:D}=N;p(N,()=>{q.$comment&&k.$comment&&F(N),V(N),D.let(h.default.vErrors,null),D.let(h.default.errors,0),q.unevaluated&&i(N),j(N),U(N)})}function i(N){const{gen:k,validateName:q}=N;N.evaluated=k.const("evaluated",(0,u._)`${q}.evaluated`),k.if((0,u._)`${N.evaluated}.dynamicProps`,()=>k.assign((0,u._)`${N.evaluated}.props`,(0,u._)`undefined`)),k.if((0,u._)`${N.evaluated}.dynamicItems`,()=>k.assign((0,u._)`${N.evaluated}.items`,(0,u._)`undefined`))}function t(N,k){const q=typeof N=="object"&&N[k.schemaId];return q&&(k.code.source||k.code.process)?(0,u._)`/*# sourceURL=${q} */`:u.nil}function s(N,k){if(n(N)&&(E(N),f(N))){d(N,k);return}(0,e.boolOrEmptySchema)(N,k)}function f({schema:N,self:k}){if(typeof N=="boolean")return!N;for(const q in N)if(k.RULES.all[q])return!0;return!1}function n(N){return typeof N.schema!="boolean"}function d(N,k){const{schema:q,gen:D,opts:L}=N;L.$comment&&q.$comment&&F(N),I(N),z(N);const W=D.const("_errs",h.default.errors);j(N,W),D.var(k,(0,u._)`${W} === ${h.default.errors}`)}function E(N){(0,_.checkUnknownRules)(N),M(N)}function j(N,k){if(N.opts.jtd)return ne(N,[],!1,k);const q=(0,r.getSchemaTypes)(N.schema),D=(0,r.coerceAndCheckDataType)(N,q);ne(N,q,!D,k)}function M(N){const{schema:k,errSchemaPath:q,opts:D,self:L}=N;k.$ref&&D.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(k,L.RULES)&&L.logger.warn(`$ref: keywords ignored in schema at path "${q}"`)}function V(N){const{schema:k,opts:q}=N;k.default!==void 0&&q.useDefaults&&q.strictSchema&&(0,_.checkStrictMode)(N,"default is ignored in the schema root")}function I(N){const k=N.schema[N.opts.schemaId];k&&(N.baseId=(0,$.resolveUrl)(N.opts.uriResolver,N.baseId,k))}function z(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function F({gen:N,schemaEnv:k,schema:q,errSchemaPath:D,opts:L}){const W=q.$comment;if(L.$comment===!0)N.code((0,u._)`${h.default.self}.logger.log(${W})`);else if(typeof L.$comment=="function"){const ee=(0,u.str)`${D}/$comment`,le=N.scopeValue("root",{ref:k.root});N.code((0,u._)`${h.default.self}.opts.$comment(${W}, ${ee}, ${le}.schema)`)}}function U(N){const{gen:k,schemaEnv:q,validateName:D,ValidationError:L,opts:W}=N;q.$async?k.if((0,u._)`${h.default.errors} === 0`,()=>k.return(h.default.data),()=>k.throw((0,u._)`new ${L}(${h.default.vErrors})`)):(k.assign((0,u._)`${D}.errors`,h.default.vErrors),W.unevaluated&&Q(N),k.return((0,u._)`${h.default.errors} === 0`))}function Q({gen:N,evaluated:k,props:q,items:D}){q instanceof u.Name&&N.assign((0,u._)`${k}.props`,q),D instanceof u.Name&&N.assign((0,u._)`${k}.items`,D)}function ne(N,k,q,D){const{gen:L,schema:W,data:ee,allErrors:le,opts:oe,self:ie}=N,{RULES:te}=ie;if(W.$ref&&(oe.ignoreKeywordsWithRef||!(0,_.schemaHasRulesButRef)(W,te))){L.block(()=>K(N,"$ref",te.all.$ref.definition));return}oe.jtd||x(N,k),L.block(()=>{for(const ce of te.rules)be(ce);be(te.post)});function be(ce){(0,w.shouldUseGroup)(W,ce)&&(ce.type?(L.if((0,l.checkDataType)(ce.type,ee,oe.strictNumbers)),se(N,ce),k.length===1&&k[0]===ce.type&&q&&(L.else(),(0,l.reportTypeError)(N)),L.endIf()):se(N,ce),le||L.if((0,u._)`${h.default.errors} === ${D||0}`))}}function se(N,k){const{gen:q,schema:D,opts:{useDefaults:L}}=N;L&&(0,b.assignDefaults)(N,k.type),q.block(()=>{for(const W of k.rules)(0,w.shouldUseRule)(D,W)&&K(N,W.keyword,W.definition,k.type)})}function x(N,k){N.schemaEnv.meta||!N.opts.strictTypes||(de(N,k),N.opts.allowUnionTypes||A(N,k),R(N,N.dataTypes))}function de(N,k){if(k.length){if(!N.dataTypes.length){N.dataTypes=k;return}k.forEach(q=>{O(N.dataTypes,q)||S(N,`type "${q}" not allowed by context "${N.dataTypes.join(",")}"`)}),c(N,k)}}function A(N,k){k.length>1&&!(k.length===2&&k.includes("null"))&&S(N,"use allowUnionTypes to allow union type keyword")}function R(N,k){const q=N.self.RULES.all;for(const D in q){const L=q[D];if(typeof L=="object"&&(0,w.shouldUseRule)(N.schema,L)){const{type:W}=L.definition;W.length&&!W.some(ee=>C(k,ee))&&S(N,`missing type "${W.join(",")}" for keyword "${D}"`)}}}function C(N,k){return N.includes(k)||k==="number"&&N.includes("integer")}function O(N,k){return N.includes(k)||k==="integer"&&N.includes("number")}function c(N,k){const q=[];for(const D of N.dataTypes)O(k,D)?q.push(D):k.includes("integer")&&D==="number"&&q.push("integer");N.dataTypes=q}function S(N,k){const q=N.schemaEnv.baseId+N.errSchemaPath;k+=` at "${q}" (strictTypes)`,(0,_.checkStrictMode)(N,k,N.opts.strictTypes)}class T{constructor(k,q,D){if((0,a.validateKeywordUsage)(k,q,D),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=D,this.data=k.data,this.schema=k.schema[D],this.$data=q.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_.schemaRefOrVal)(k,this.schema,D,this.$data),this.schemaType=q.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=q,this.$data)this.schemaCode=k.gen.const("vSchema",B(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,q.schemaType,q.allowUndefined))throw new Error(`${D} value must be ${JSON.stringify(q.schemaType)}`);("code"in q?q.trackErrors:q.errors!==!1)&&(this.errsCount=k.gen.const("_errs",h.default.errors))}result(k,q,D){this.failResult((0,u.not)(k),q,D)}failResult(k,q,D){this.gen.if(k),D?D():this.error(),q?(this.gen.else(),q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,q){this.failResult((0,u.not)(k),void 0,q)}fail(k){if(k===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);const{schemaCode:q}=this;this.fail((0,u._)`${q} !== undefined && (${(0,u.or)(this.invalid$data(),k)})`)}error(k,q,D){if(q){this.setParams(q),this._error(k,D),this.setParams({});return}this._error(k,D)}_error(k,q){(k?P.reportExtraError:P.reportError)(this,this.def.error,q)}$dataError(){(0,P.reportError)(this,this.def.$dataError||P.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,P.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,q){q?Object.assign(this.params,k):this.params=k}block$data(k,q,D=u.nil){this.gen.block(()=>{this.check$data(k,D),q()})}check$data(k=u.nil,q=u.nil){if(!this.$data)return;const{gen:D,schemaCode:L,schemaType:W,def:ee}=this;D.if((0,u.or)((0,u._)`${L} === undefined`,q)),k!==u.nil&&D.assign(k,!0),(W.length||ee.validateSchema)&&(D.elseIf(this.invalid$data()),this.$dataError(),k!==u.nil&&D.assign(k,!1)),D.else()}invalid$data(){const{gen:k,schemaCode:q,schemaType:D,def:L,it:W}=this;return(0,u.or)(ee(),le());function ee(){if(D.length){if(!(q instanceof u.Name))throw new Error("ajv implementation error");const oe=Array.isArray(D)?D:[D];return(0,u._)`${(0,l.checkDataTypes)(oe,q,W.opts.strictNumbers,l.DataType.Wrong)}`}return u.nil}function le(){if(L.validateSchema){const oe=k.scopeValue("validate$data",{ref:L.validateSchema});return(0,u._)`!${oe}(${q})`}return u.nil}}subschema(k,q){const D=(0,m.getSubschema)(this.it,k);(0,m.extendSubschemaData)(D,this.it,k),(0,m.extendSubschemaMode)(D,k);const L={...this.it,...D,items:void 0,props:void 0};return s(L,q),L}mergeEvaluated(k,q){const{it:D,gen:L}=this;D.opts.unevaluated&&(D.props!==!0&&k.props!==void 0&&(D.props=_.mergeEvaluated.props(L,k.props,D.props,q)),D.items!==!0&&k.items!==void 0&&(D.items=_.mergeEvaluated.items(L,k.items,D.items,q)))}mergeValidEvaluated(k,q){const{it:D,gen:L}=this;if(D.opts.unevaluated&&(D.props!==!0||D.items!==!0))return L.if(q,()=>this.mergeEvaluated(k,u.Name)),!0}}me.KeywordCxt=T;function K(N,k,q,D){const L=new T(N,q,k);"code"in q?q.code(L,D):L.$data&&q.validate?(0,a.funcKeywordCode)(L,q):"macro"in q?(0,a.macroKeywordCode)(L,q):(q.compile||q.validate)&&(0,a.funcKeywordCode)(L,q)}const H=/^\/(?:[^~]|~0|~1)*$/,Z=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function B(N,{dataLevel:k,dataNames:q,dataPathArr:D}){let L,W;if(N==="")return h.default.rootData;if(N[0]==="/"){if(!H.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);L=N,W=h.default.rootData}else{const ie=Z.exec(N);if(!ie)throw new Error(`Invalid JSON-pointer: ${N}`);const te=+ie[1];if(L=ie[2],L==="#"){if(te>=k)throw new Error(oe("property/index",te));return D[k-te]}if(te>k)throw new Error(oe("data",te));if(W=q[k-te],!L)return W}let ee=W;const le=L.split("/");for(const ie of le)ie&&(W=(0,u._)`${W}${(0,u.getProperty)((0,_.unescapeJsonPointer)(ie))}`,ee=(0,u._)`${ee} && ${W}`);return ee;function oe(ie,te){return`Cannot access ${ie} ${te} levels up, current level is ${k}`}}return me.getData=B,me}var Te={},ar;function Mt(){if(ar)return Te;ar=1,Object.defineProperty(Te,"__esModule",{value:!0});class e extends Error{constructor(w){super("validation failed"),this.errors=w,this.ajv=this.validation=!0}}return Te.default=e,Te}var Ie={},or;function $t(){if(or)return Ie;or=1,Object.defineProperty(Ie,"__esModule",{value:!0});const e=_t();class r extends Error{constructor(l,b,a,m){super(m||`can't resolve reference ${a} from id ${b}`),this.missingRef=(0,e.resolveUrl)(l,b,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(l,this.missingRef))}}return Ie.default=r,Ie}var ue={},ir;function At(){if(ir)return ue;ir=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.resolveSchema=ue.getCompilingSchema=ue.resolveRef=ue.compileSchema=ue.SchemaEnv=void 0;const e=J(),r=Mt(),w=ve(),l=_t(),b=Y(),a=vt();class m{constructor(i){var t;this.refs={},this.dynamicAnchors={};let s;typeof i.schema=="object"&&(s=i.schema),this.schema=i.schema,this.schemaId=i.schemaId,this.root=i.root||this,this.baseId=(t=i.baseId)!==null&&t!==void 0?t:(0,l.normalizeId)(s?.[i.schemaId||"$id"]),this.schemaPath=i.schemaPath,this.localRefs=i.localRefs,this.meta=i.meta,this.$async=s?.$async,this.refs={}}}ue.SchemaEnv=m;function u(o){const i=_.call(this,o);if(i)return i;const t=(0,l.getFullPath)(this.opts.uriResolver,o.root.baseId),{es5:s,lines:f}=this.opts.code,{ownProperties:n}=this.opts,d=new e.CodeGen(this.scope,{es5:s,lines:f,ownProperties:n});let E;o.$async&&(E=d.scopeValue("Error",{ref:r.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const j=d.scopeName("validate");o.validateName=j;const M={gen:d,allErrors:this.opts.allErrors,data:w.default.data,parentData:w.default.parentData,parentDataProperty:w.default.parentDataProperty,dataNames:[w.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:o.schema,code:(0,e.stringify)(o.schema)}:{ref:o.schema}),validateName:j,ValidationError:E,schema:o.schema,schemaEnv:o,rootId:t,baseId:o.baseId||t,schemaPath:e.nil,errSchemaPath:o.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let V;try{this._compilations.add(o),(0,a.validateFunctionCode)(M),d.optimize(this.opts.code.optimize);const I=d.toString();V=`${d.scopeRefs(w.default.scope)}return ${I}`,this.opts.code.process&&(V=this.opts.code.process(V,o));const F=new Function(`${w.default.self}`,`${w.default.scope}`,V)(this,this.scope.get());if(this.scope.value(j,{ref:F}),F.errors=null,F.schema=o.schema,F.schemaEnv=o,o.$async&&(F.$async=!0),this.opts.code.source===!0&&(F.source={validateName:j,validateCode:I,scopeValues:d._values}),this.opts.unevaluated){const{props:U,items:Q}=M;F.evaluated={props:U instanceof e.Name?void 0:U,items:Q instanceof e.Name?void 0:Q,dynamicProps:U instanceof e.Name,dynamicItems:Q instanceof e.Name},F.source&&(F.source.evaluated=(0,e.stringify)(F.evaluated))}return o.validate=F,o}catch(I){throw delete o.validate,delete o.validateName,V&&this.logger.error("Error compiling schema, function code:",V),I}finally{this._compilations.delete(o)}}ue.compileSchema=u;function h(o,i,t){var s;t=(0,l.resolveUrl)(this.opts.uriResolver,i,t);const f=o.refs[t];if(f)return f;let n=v.call(this,o,t);if(n===void 0){const d=(s=o.localRefs)===null||s===void 0?void 0:s[t],{schemaId:E}=this.opts;d&&(n=new m({schema:d,schemaId:E,root:o,baseId:i}))}if(n!==void 0)return o.refs[t]=$.call(this,n)}ue.resolveRef=h;function $(o){return(0,l.inlineRef)(o.schema,this.opts.inlineRefs)?o.schema:o.validate?o:u.call(this,o)}function _(o){for(const i of this._compilations)if(P(i,o))return i}ue.getCompilingSchema=_;function P(o,i){return o.schema===i.schema&&o.root===i.root&&o.baseId===i.baseId}function v(o,i){let t;for(;typeof(t=this.refs[i])=="string";)i=t;return t||this.schemas[i]||p.call(this,o,i)}function p(o,i){const t=this.opts.uriResolver.parse(i),s=(0,l._getFullPath)(this.opts.uriResolver,t);let f=(0,l.getFullPath)(this.opts.uriResolver,o.baseId,void 0);if(Object.keys(o.schema).length>0&&s===f)return g.call(this,t,o);const n=(0,l.normalizeId)(s),d=this.refs[n]||this.schemas[n];if(typeof d=="string"){const E=p.call(this,o,d);return typeof E?.schema!="object"?void 0:g.call(this,t,E)}if(typeof d?.schema=="object"){if(d.validate||u.call(this,d),n===(0,l.normalizeId)(i)){const{schema:E}=d,{schemaId:j}=this.opts,M=E[j];return M&&(f=(0,l.resolveUrl)(this.opts.uriResolver,f,M)),new m({schema:E,schemaId:j,root:o,baseId:f})}return g.call(this,t,d)}}ue.resolveSchema=p;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(o,{baseId:i,schema:t,root:s}){var f;if(((f=o.fragment)===null||f===void 0?void 0:f[0])!=="/")return;for(const E of o.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const j=t[(0,b.unescapeFragment)(E)];if(j===void 0)return;t=j;const M=typeof t=="object"&&t[this.opts.schemaId];!y.has(E)&&M&&(i=(0,l.resolveUrl)(this.opts.uriResolver,i,M))}let n;if(typeof t!="boolean"&&t.$ref&&!(0,b.schemaHasRulesButRef)(t,this.RULES)){const E=(0,l.resolveUrl)(this.opts.uriResolver,i,t.$ref);n=p.call(this,s,E)}const{schemaId:d}=this.opts;if(n=n||new m({schema:t,schemaId:d,root:s,baseId:i}),n.schema!==n.root.schema)return n}return ue}const yn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",_n="Meta-schema for $data reference (JSON AnySchema extension proposal)",vn="object",$n=["$data"],gn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wn=!1,bn={$id:yn,description:_n,type:vn,required:$n,properties:gn,additionalProperties:wn};var qe={},Re={exports:{}},jt,ur;function an(){if(ur)return jt;ur=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),r=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function w(v){let p="",y=0,g=0;for(g=0;g<v.length;g++)if(y=v[g].charCodeAt(0),y!==48){if(!(y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102))return"";p+=v[g];break}for(g+=1;g<v.length;g++){if(y=v[g].charCodeAt(0),!(y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102))return"";p+=v[g]}return p}const l=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function b(v){return v.length=0,!0}function a(v,p,y){if(v.length){const g=w(v);if(g!=="")p.push(g);else return y.error=!0,!1;v.length=0}return!0}function m(v){let p=0;const y={error:!1,address:"",zone:""},g=[],o=[];let i=!1,t=!1,s=a;for(let f=0;f<v.length;f++){const n=v[f];if(!(n==="["||n==="]"))if(n===":"){if(i===!0&&(t=!0),!s(o,g,y))break;if(++p>7){y.error=!0;break}f>0&&v[f-1]===":"&&(i=!0),g.push(":");continue}else if(n==="%"){if(!s(o,g,y))break;s=b}else{o.push(n);continue}}return o.length&&(s===b?y.zone=o.join(""):t?g.push(o.join("")):g.push(w(o))),y.address=g.join(""),y}function u(v){if(h(v,":")<2)return{host:v,isIPV6:!1};const p=m(v);if(p.error)return{host:v,isIPV6:!1};{let y=p.address,g=p.address;return p.zone&&(y+="%"+p.zone,g+="%25"+p.zone),{host:y,isIPV6:!0,escapedHost:g}}}function h(v,p){let y=0;for(let g=0;g<v.length;g++)v[g]===p&&y++;return y}function $(v){let p=v;const y=[];let g=-1,o=0;for(;o=p.length;){if(o===1){if(p===".")break;if(p==="/"){y.push("/");break}else{y.push(p);break}}else if(o===2){if(p[0]==="."){if(p[1]===".")break;if(p[1]==="/"){p=p.slice(2);continue}}else if(p[0]==="/"&&(p[1]==="."||p[1]==="/")){y.push("/");break}}else if(o===3&&p==="/.."){y.length!==0&&y.pop(),y.push("/");break}if(p[0]==="."){if(p[1]==="."){if(p[2]==="/"){p=p.slice(3);continue}}else if(p[1]==="/"){p=p.slice(2);continue}}else if(p[0]==="/"&&p[1]==="."){if(p[2]==="/"){p=p.slice(2);continue}else if(p[2]==="."&&p[3]==="/"){p=p.slice(3),y.length!==0&&y.pop();continue}}if((g=p.indexOf("/",1))===-1){y.push(p);break}else y.push(p.slice(0,g)),p=p.slice(g)}return y.join("")}function _(v,p){const y=p!==!0?escape:unescape;return v.scheme!==void 0&&(v.scheme=y(v.scheme)),v.userinfo!==void 0&&(v.userinfo=y(v.userinfo)),v.host!==void 0&&(v.host=y(v.host)),v.path!==void 0&&(v.path=y(v.path)),v.query!==void 0&&(v.query=y(v.query)),v.fragment!==void 0&&(v.fragment=y(v.fragment)),v}function P(v){const p=[];if(v.userinfo!==void 0&&(p.push(v.userinfo),p.push("@")),v.host!==void 0){let y=unescape(v.host);if(!r(y)){const g=u(y);g.isIPV6===!0?y=`[${g.escapedHost}]`:y=v.host}p.push(y)}return(typeof v.port=="number"||typeof v.port=="string")&&(p.push(":"),p.push(String(v.port))),p.length?p.join(""):void 0}return jt={nonSimpleDomain:l,recomposeAuthority:P,normalizeComponentEncoding:_,removeDotSegments:$,isIPv4:r,isUUID:e,normalizeIPv6:u,stringArrayToHexStripped:w},jt}var Tt,cr;function En(){if(cr)return Tt;cr=1;const{isUUID:e}=an(),r=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,w=["http","https","ws","wss","urn","urn:uuid"];function l(n){return w.indexOf(n)!==-1}function b(n){return n.secure===!0?!0:n.secure===!1?!1:n.scheme?n.scheme.length===3&&(n.scheme[0]==="w"||n.scheme[0]==="W")&&(n.scheme[1]==="s"||n.scheme[1]==="S")&&(n.scheme[2]==="s"||n.scheme[2]==="S"):!1}function a(n){return n.host||(n.error=n.error||"HTTP URIs must have a host."),n}function m(n){const d=String(n.scheme).toLowerCase()==="https";return(n.port===(d?443:80)||n.port==="")&&(n.port=void 0),n.path||(n.path="/"),n}function u(n){return n.secure=b(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n}function h(n){if((n.port===(b(n)?443:80)||n.port==="")&&(n.port=void 0),typeof n.secure=="boolean"&&(n.scheme=n.secure?"wss":"ws",n.secure=void 0),n.resourceName){const[d,E]=n.resourceName.split("?");n.path=d&&d!=="/"?d:void 0,n.query=E,n.resourceName=void 0}return n.fragment=void 0,n}function $(n,d){if(!n.path)return n.error="URN can not be parsed",n;const E=n.path.match(r);if(E){const j=d.scheme||n.scheme||"urn";n.nid=E[1].toLowerCase(),n.nss=E[2];const M=`${j}:${d.nid||n.nid}`,V=f(M);n.path=void 0,V&&(n=V.parse(n,d))}else n.error=n.error||"URN can not be parsed.";return n}function _(n,d){if(n.nid===void 0)throw new Error("URN without nid cannot be serialized");const E=d.scheme||n.scheme||"urn",j=n.nid.toLowerCase(),M=`${E}:${d.nid||j}`,V=f(M);V&&(n=V.serialize(n,d));const I=n,z=n.nss;return I.path=`${j||d.nid}:${z}`,d.skipEscape=!0,I}function P(n,d){const E=n;return E.uuid=E.nss,E.nss=void 0,!d.tolerant&&(!E.uuid||!e(E.uuid))&&(E.error=E.error||"UUID is not valid."),E}function v(n){const d=n;return d.nss=(n.uuid||"").toLowerCase(),d}const p={scheme:"http",domainHost:!0,parse:a,serialize:m},y={scheme:"https",domainHost:p.domainHost,parse:a,serialize:m},g={scheme:"ws",domainHost:!0,parse:u,serialize:h},o={scheme:"wss",domainHost:g.domainHost,parse:g.parse,serialize:g.serialize},s={http:p,https:y,ws:g,wss:o,urn:{scheme:"urn",parse:$,serialize:_,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:P,serialize:v,skipNormalize:!0}};Object.setPrototypeOf(s,null);function f(n){return n&&(s[n]||s[n.toLowerCase()])||void 0}return Tt={wsIsSecure:b,SCHEMES:s,isValidSchemeName:l,getSchemeHandler:f},Tt}var dr;function Sn(){if(dr)return Re.exports;dr=1;const{normalizeIPv6:e,removeDotSegments:r,recomposeAuthority:w,normalizeComponentEncoding:l,isIPv4:b,nonSimpleDomain:a}=an(),{SCHEMES:m,getSchemeHandler:u}=En();function h(o,i){return typeof o=="string"?o=v(y(o,i),i):typeof o=="object"&&(o=y(v(o,i),i)),o}function $(o,i,t){const s=t?Object.assign({scheme:"null"},t):{scheme:"null"},f=_(y(o,s),y(i,s),s,!0);return s.skipEscape=!0,v(f,s)}function _(o,i,t,s){const f={};return s||(o=y(v(o,t),t),i=y(v(i,t),t)),t=t||{},!t.tolerant&&i.scheme?(f.scheme=i.scheme,f.userinfo=i.userinfo,f.host=i.host,f.port=i.port,f.path=r(i.path||""),f.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(f.userinfo=i.userinfo,f.host=i.host,f.port=i.port,f.path=r(i.path||""),f.query=i.query):(i.path?(i.path[0]==="/"?f.path=r(i.path):((o.userinfo!==void 0||o.host!==void 0||o.port!==void 0)&&!o.path?f.path="/"+i.path:o.path?f.path=o.path.slice(0,o.path.lastIndexOf("/")+1)+i.path:f.path=i.path,f.path=r(f.path)),f.query=i.query):(f.path=o.path,i.query!==void 0?f.query=i.query:f.query=o.query),f.userinfo=o.userinfo,f.host=o.host,f.port=o.port),f.scheme=o.scheme),f.fragment=i.fragment,f}function P(o,i,t){return typeof o=="string"?(o=unescape(o),o=v(l(y(o,t),!0),{...t,skipEscape:!0})):typeof o=="object"&&(o=v(l(o,!0),{...t,skipEscape:!0})),typeof i=="string"?(i=unescape(i),i=v(l(y(i,t),!0),{...t,skipEscape:!0})):typeof i=="object"&&(i=v(l(i,!0),{...t,skipEscape:!0})),o.toLowerCase()===i.toLowerCase()}function v(o,i){const t={host:o.host,scheme:o.scheme,userinfo:o.userinfo,port:o.port,path:o.path,query:o.query,nid:o.nid,nss:o.nss,uuid:o.uuid,fragment:o.fragment,reference:o.reference,resourceName:o.resourceName,secure:o.secure,error:""},s=Object.assign({},i),f=[],n=u(s.scheme||t.scheme);n&&n.serialize&&n.serialize(t,s),t.path!==void 0&&(s.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),s.reference!=="suffix"&&t.scheme&&f.push(t.scheme,":");const d=w(t);if(d!==void 0&&(s.reference!=="suffix"&&f.push("//"),f.push(d),t.path&&t.path[0]!=="/"&&f.push("/")),t.path!==void 0){let E=t.path;!s.absolutePath&&(!n||!n.absolutePath)&&(E=r(E)),d===void 0&&E[0]==="/"&&E[1]==="/"&&(E="/%2F"+E.slice(2)),f.push(E)}return t.query!==void 0&&f.push("?",t.query),t.fragment!==void 0&&f.push("#",t.fragment),f.join("")}const p=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function y(o,i){const t=Object.assign({},i),s={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let f=!1;t.reference==="suffix"&&(t.scheme?o=t.scheme+":"+o:o="//"+o);const n=o.match(p);if(n){if(s.scheme=n[1],s.userinfo=n[3],s.host=n[4],s.port=parseInt(n[5],10),s.path=n[6]||"",s.query=n[7],s.fragment=n[8],isNaN(s.port)&&(s.port=n[5]),s.host)if(b(s.host)===!1){const j=e(s.host);s.host=j.host.toLowerCase(),f=j.isIPV6}else f=!0;s.scheme===void 0&&s.userinfo===void 0&&s.host===void 0&&s.port===void 0&&s.query===void 0&&!s.path?s.reference="same-document":s.scheme===void 0?s.reference="relative":s.fragment===void 0?s.reference="absolute":s.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==s.reference&&(s.error=s.error||"URI is not a "+t.reference+" reference.");const d=u(t.scheme||s.scheme);if(!t.unicodeSupport&&(!d||!d.unicodeSupport)&&s.host&&(t.domainHost||d&&d.domainHost)&&f===!1&&a(s.host))try{s.host=URL.domainToASCII(s.host.toLowerCase())}catch(E){s.error=s.error||"Host's domain name can not be converted to ASCII: "+E}(!d||d&&!d.skipNormalize)&&(o.indexOf("%")!==-1&&(s.scheme!==void 0&&(s.scheme=unescape(s.scheme)),s.host!==void 0&&(s.host=unescape(s.host))),s.path&&(s.path=escape(unescape(s.path))),s.fragment&&(s.fragment=encodeURI(decodeURIComponent(s.fragment)))),d&&d.parse&&d.parse(s,t)}else s.error=s.error||"URI can not be parsed.";return s}const g={SCHEMES:m,normalize:h,resolve:$,resolveComponent:_,equal:P,serialize:v,parse:y};return Re.exports=g,Re.exports.default=g,Re.exports.fastUri=g,Re.exports}var lr;function Pn(){if(lr)return qe;lr=1,Object.defineProperty(qe,"__esModule",{value:!0});const e=Sn();return e.code='require("ajv/dist/runtime/uri").default',qe.default=e,qe}var fr;function Nn(){return fr||(fr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=vt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var w=J();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return w._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return w.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return w.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return w.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return w.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return w.CodeGen}});const l=Mt(),b=$t(),a=rn(),m=At(),u=J(),h=_t(),$=pt(),_=Y(),P=bn,v=Pn(),p=(A,R)=>new RegExp(A,R);p.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),o={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},i={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function s(A){var R,C,O,c,S,T,K,H,Z,B,N,k,q,D,L,W,ee,le,oe,ie,te,be,ce,gt,wt;const Pe=A.strict,bt=(R=A.code)===null||R===void 0?void 0:R.optimize,zt=bt===!0||bt===void 0?1:bt||0,Vt=(O=(C=A.code)===null||C===void 0?void 0:C.regExp)!==null&&O!==void 0?O:p,dn=(c=A.uriResolver)!==null&&c!==void 0?c:v.default;return{strictSchema:(T=(S=A.strictSchema)!==null&&S!==void 0?S:Pe)!==null&&T!==void 0?T:!0,strictNumbers:(H=(K=A.strictNumbers)!==null&&K!==void 0?K:Pe)!==null&&H!==void 0?H:!0,strictTypes:(B=(Z=A.strictTypes)!==null&&Z!==void 0?Z:Pe)!==null&&B!==void 0?B:"log",strictTuples:(k=(N=A.strictTuples)!==null&&N!==void 0?N:Pe)!==null&&k!==void 0?k:"log",strictRequired:(D=(q=A.strictRequired)!==null&&q!==void 0?q:Pe)!==null&&D!==void 0?D:!1,code:A.code?{...A.code,optimize:zt,regExp:Vt}:{optimize:zt,regExp:Vt},loopRequired:(L=A.loopRequired)!==null&&L!==void 0?L:t,loopEnum:(W=A.loopEnum)!==null&&W!==void 0?W:t,meta:(ee=A.meta)!==null&&ee!==void 0?ee:!0,messages:(le=A.messages)!==null&&le!==void 0?le:!0,inlineRefs:(oe=A.inlineRefs)!==null&&oe!==void 0?oe:!0,schemaId:(ie=A.schemaId)!==null&&ie!==void 0?ie:"$id",addUsedSchema:(te=A.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(be=A.validateSchema)!==null&&be!==void 0?be:!0,validateFormats:(ce=A.validateFormats)!==null&&ce!==void 0?ce:!0,unicodeRegExp:(gt=A.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:(wt=A.int32range)!==null&&wt!==void 0?wt:!0,uriResolver:dn}}class f{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...s(R)};const{es5:C,lines:O}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:C,lines:O}),this.logger=z(R.logger);const c=R.validateFormats;R.validateFormats=!1,this.RULES=(0,a.getRules)(),n.call(this,o,R,"NOT SUPPORTED"),n.call(this,i,R,"DEPRECATED","warn"),this._metaOpts=V.call(this),R.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&M.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),E.call(this),R.validateFormats=c}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:C,schemaId:O}=this.opts;let c=P;O==="id"&&(c={...P},c.id=c.$id,delete c.$id),C&&R&&this.addMetaSchema(c,c[O],!1)}defaultMeta(){const{meta:R,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[C]||R:void 0}validate(R,C){let O;if(typeof R=="string"){if(O=this.getSchema(R),!O)throw new Error(`no schema with key or ref "${R}"`)}else O=this.compile(R);const c=O(C);return"$async"in O||(this.errors=O.errors),c}compile(R,C){const O=this._addSchema(R,C);return O.validate||this._compileSchemaEnv(O)}compileAsync(R,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return c.call(this,R,C);async function c(B,N){await S.call(this,B.$schema);const k=this._addSchema(B,N);return k.validate||T.call(this,k)}async function S(B){B&&!this.getSchema(B)&&await c.call(this,{$ref:B},!0)}async function T(B){try{return this._compileSchemaEnv(B)}catch(N){if(!(N instanceof b.default))throw N;return K.call(this,N),await H.call(this,N.missingSchema),T.call(this,B)}}function K({missingSchema:B,missingRef:N}){if(this.refs[B])throw new Error(`AnySchema ${B} is loaded but ${N} cannot be resolved`)}async function H(B){const N=await Z.call(this,B);this.refs[B]||await S.call(this,N.$schema),this.refs[B]||this.addSchema(N,B,C)}async function Z(B){const N=this._loading[B];if(N)return N;try{return await(this._loading[B]=O(B))}finally{delete this._loading[B]}}}addSchema(R,C,O,c=this.opts.validateSchema){if(Array.isArray(R)){for(const T of R)this.addSchema(T,void 0,O,c);return this}let S;if(typeof R=="object"){const{schemaId:T}=this.opts;if(S=R[T],S!==void 0&&typeof S!="string")throw new Error(`schema ${T} must be string`)}return C=(0,h.normalizeId)(C||S),this._checkUnique(C),this.schemas[C]=this._addSchema(R,O,C,c,!0),this}addMetaSchema(R,C,O=this.opts.validateSchema){return this.addSchema(R,C,!0,O),this}validateSchema(R,C){if(typeof R=="boolean")return!0;let O;if(O=R.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const c=this.validate(O,R);if(!c&&C){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return c}getSchema(R){let C;for(;typeof(C=d.call(this,R))=="string";)R=C;if(C===void 0){const{schemaId:O}=this.opts,c=new m.SchemaEnv({schema:{},schemaId:O});if(C=m.resolveSchema.call(this,c,R),!C)return;this.refs[R]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=d.call(this,R);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const C=R;this._cache.delete(C);let O=R[this.opts.schemaId];return O&&(O=(0,h.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const C of R)this.addKeyword(C);return this}addKeyword(R,C){let O;if(typeof R=="string")O=R,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=O);else if(typeof R=="object"&&C===void 0){if(C=R,O=C.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(U.call(this,O,C),!C)return(0,_.eachItem)(O,S=>Q.call(this,S)),this;se.call(this,C);const c={...C,type:(0,$.getJSONTypes)(C.type),schemaType:(0,$.getJSONTypes)(C.schemaType)};return(0,_.eachItem)(O,c.type.length===0?S=>Q.call(this,S,c):S=>c.type.forEach(T=>Q.call(this,S,c,T))),this}getKeyword(R){const C=this.RULES.all[R];return typeof C=="object"?C.definition:!!C}removeKeyword(R){const{RULES:C}=this;delete C.keywords[R],delete C.all[R];for(const O of C.rules){const c=O.rules.findIndex(S=>S.keyword===R);c>=0&&O.rules.splice(c,1)}return this}addFormat(R,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[R]=C,this}errorsText(R=this.errors,{separator:C=", ",dataVar:O="data"}={}){return!R||R.length===0?"No errors":R.map(c=>`${O}${c.instancePath} ${c.message}`).reduce((c,S)=>c+C+S)}$dataMetaSchema(R,C){const O=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const c of C){const S=c.split("/").slice(1);let T=R;for(const K of S)T=T[K];for(const K in O){const H=O[K];if(typeof H!="object")continue;const{$data:Z}=H.definition,B=T[K];Z&&B&&(T[K]=de(B))}}return R}_removeAllSchemas(R,C){for(const O in R){const c=R[O];(!C||C.test(O))&&(typeof c=="string"?delete R[O]:c&&!c.meta&&(this._cache.delete(c.schema),delete R[O]))}}_addSchema(R,C,O,c=this.opts.validateSchema,S=this.opts.addUsedSchema){let T;const{schemaId:K}=this.opts;if(typeof R=="object")T=R[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let H=this._cache.get(R);if(H!==void 0)return H;O=(0,h.normalizeId)(T||O);const Z=h.getSchemaRefs.call(this,R,O);return H=new m.SchemaEnv({schema:R,schemaId:K,meta:C,baseId:O,localRefs:Z}),this._cache.set(H.schema,H),S&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=H),c&&this.validateSchema(R,!0),H}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):m.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const C=this.opts;this.opts=this._metaOpts;try{m.compileSchema.call(this,R)}finally{this.opts=C}}}f.ValidationError=l.default,f.MissingRefError=b.default,e.default=f;function n(A,R,C,O="error"){for(const c in A){const S=c;S in R&&this.logger[O](`${C}: option ${c}. ${A[S]}`)}}function d(A){return A=(0,h.normalizeId)(A),this.schemas[A]||this.refs[A]}function E(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const R in A)this.addSchema(A[R],R)}function j(){for(const A in this.opts.formats){const R=this.opts.formats[A];R&&this.addFormat(A,R)}}function M(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in A){const C=A[R];C.keyword||(C.keyword=R),this.addKeyword(C)}}function V(){const A={...this.opts};for(const R of y)delete A[R];return A}const I={log(){},warn(){},error(){}};function z(A){if(A===!1)return I;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const F=/^[a-z_$][a-z0-9_$:-]*$/i;function U(A,R){const{RULES:C}=this;if((0,_.eachItem)(A,O=>{if(C.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!F.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function Q(A,R,C){var O;const c=R?.post;if(C&&c)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let T=c?S.post:S.rules.find(({type:H})=>H===C);if(T||(T={type:C,rules:[]},S.rules.push(T)),S.keywords[A]=!0,!R)return;const K={keyword:A,definition:{...R,type:(0,$.getJSONTypes)(R.type),schemaType:(0,$.getJSONTypes)(R.schemaType)}};R.before?ne.call(this,T,K,R.before):T.rules.push(K),S.all[A]=K,(O=R.implements)===null||O===void 0||O.forEach(H=>this.addKeyword(H))}function ne(A,R,C){const O=A.rules.findIndex(c=>c.keyword===C);O>=0?A.rules.splice(O,0,R):(A.rules.push(R),this.logger.warn(`rule ${C} is not defined`))}function se(A){let{metaSchema:R}=A;R!==void 0&&(A.$data&&this.opts.$data&&(R=de(R)),A.validateSchema=this.compile(R,!0))}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function de(A){return{anyOf:[A,x]}}})(Et)),Et}var Ce={},Me={},Ae={},hr;function Rn(){if(hr)return Ae;hr=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ae.default=e,Ae}var _e={},mr;function kn(){if(mr)return _e;mr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.callRef=_e.getValidate=void 0;const e=$t(),r=he(),w=J(),l=ve(),b=At(),a=Y(),m={keyword:"$ref",schemaType:"string",code($){const{gen:_,schema:P,it:v}=$,{baseId:p,schemaEnv:y,validateName:g,opts:o,self:i}=v,{root:t}=y;if((P==="#"||P==="#/")&&p===t.baseId)return f();const s=b.resolveRef.call(i,t,p,P);if(s===void 0)throw new e.default(v.opts.uriResolver,p,P);if(s instanceof b.SchemaEnv)return n(s);return d(s);function f(){if(y===t)return h($,g,y,y.$async);const E=_.scopeValue("root",{ref:t});return h($,(0,w._)`${E}.validate`,t,t.$async)}function n(E){const j=u($,E);h($,j,E,E.$async)}function d(E){const j=_.scopeValue("schema",o.code.source===!0?{ref:E,code:(0,w.stringify)(E)}:{ref:E}),M=_.name("valid"),V=$.subschema({schema:E,dataTypes:[],schemaPath:w.nil,topSchemaRef:j,errSchemaPath:P},M);$.mergeEvaluated(V),$.ok(M)}}};function u($,_){const{gen:P}=$;return _.validate?P.scopeValue("validate",{ref:_.validate}):(0,w._)`${P.scopeValue("wrapper",{ref:_})}.validate`}_e.getValidate=u;function h($,_,P,v){const{gen:p,it:y}=$,{allErrors:g,schemaEnv:o,opts:i}=y,t=i.passContext?l.default.this:w.nil;v?s():f();function s(){if(!o.$async)throw new Error("async schema referenced by sync schema");const E=p.let("valid");p.try(()=>{p.code((0,w._)`await ${(0,r.callValidateCode)($,_,t)}`),d(_),g||p.assign(E,!0)},j=>{p.if((0,w._)`!(${j} instanceof ${y.ValidationError})`,()=>p.throw(j)),n(j),g||p.assign(E,!1)}),$.ok(E)}function f(){$.result((0,r.callValidateCode)($,_,t),()=>d(_),()=>n(_))}function n(E){const j=(0,w._)`${E}.errors`;p.assign(l.default.vErrors,(0,w._)`${l.default.vErrors} === null ? ${j} : ${l.default.vErrors}.concat(${j})`),p.assign(l.default.errors,(0,w._)`${l.default.vErrors}.length`)}function d(E){var j;if(!y.opts.unevaluated)return;const M=(j=P?.validate)===null||j===void 0?void 0:j.evaluated;if(y.props!==!0)if(M&&!M.dynamicProps)M.props!==void 0&&(y.props=a.mergeEvaluated.props(p,M.props,y.props));else{const V=p.var("props",(0,w._)`${E}.evaluated.props`);y.props=a.mergeEvaluated.props(p,V,y.props,w.Name)}if(y.items!==!0)if(M&&!M.dynamicItems)M.items!==void 0&&(y.items=a.mergeEvaluated.items(p,M.items,y.items));else{const V=p.var("items",(0,w._)`${E}.evaluated.items`);y.items=a.mergeEvaluated.items(p,V,y.items,w.Name)}}}return _e.callRef=h,_e.default=m,_e}var pr;function On(){if(pr)return Me;pr=1,Object.defineProperty(Me,"__esModule",{value:!0});const e=Rn(),r=kn(),w=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,r.default];return Me.default=w,Me}var De={},ze={},yr;function jn(){if(yr)return ze;yr=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=J(),r=e.operators,w={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},l={message:({keyword:a,schemaCode:m})=>(0,e.str)`must be ${w[a].okStr} ${m}`,params:({keyword:a,schemaCode:m})=>(0,e._)`{comparison: ${w[a].okStr}, limit: ${m}}`},b={keyword:Object.keys(w),type:"number",schemaType:"number",$data:!0,error:l,code(a){const{keyword:m,data:u,schemaCode:h}=a;a.fail$data((0,e._)`${u} ${w[m].fail} ${h} || isNaN(${u})`)}};return ze.default=b,ze}var Ve={},_r;function Tn(){if(_r)return Ve;_r=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=J(),w={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:l})=>(0,e.str)`must be multiple of ${l}`,params:({schemaCode:l})=>(0,e._)`{multipleOf: ${l}}`},code(l){const{gen:b,data:a,schemaCode:m,it:u}=l,h=u.opts.multipleOfPrecision,$=b.let("res"),_=h?(0,e._)`Math.abs(Math.round(${$}) - ${$}) > 1e-${h}`:(0,e._)`${$} !== parseInt(${$})`;l.fail$data((0,e._)`(${m} === 0 || (${$} = ${a}/${m}, ${_}))`)}};return Ve.default=w,Ve}var Fe={},Ue={},vr;function In(){if(vr)return Ue;vr=1,Object.defineProperty(Ue,"__esModule",{value:!0});function e(r){const w=r.length;let l=0,b=0,a;for(;b<w;)l++,a=r.charCodeAt(b++),a>=55296&&a<=56319&&b<w&&(a=r.charCodeAt(b),(a&64512)===56320&&b++);return l}return Ue.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Ue}var $r;function qn(){if($r)return Fe;$r=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=J(),r=Y(),w=In(),b={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:m}){const u=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${u} than ${m} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:m,data:u,schemaCode:h,it:$}=a,_=m==="maxLength"?e.operators.GT:e.operators.LT,P=$.opts.unicode===!1?(0,e._)`${u}.length`:(0,e._)`${(0,r.useFunc)(a.gen,w.default)}(${u})`;a.fail$data((0,e._)`${P} ${_} ${h}`)}};return Fe.default=b,Fe}var Ke={},gr;function Cn(){if(gr)return Ke;gr=1,Object.defineProperty(Ke,"__esModule",{value:!0});const e=he(),r=J(),l={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:b})=>(0,r.str)`must match pattern "${b}"`,params:({schemaCode:b})=>(0,r._)`{pattern: ${b}}`},code(b){const{data:a,$data:m,schema:u,schemaCode:h,it:$}=b,_=$.opts.unicodeRegExp?"u":"",P=m?(0,r._)`(new RegExp(${h}, ${_}))`:(0,e.usePattern)(b,u);b.fail$data((0,r._)`!${P}.test(${a})`)}};return Ke.default=l,Ke}var Le={},wr;function Mn(){if(wr)return Le;wr=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=J(),w={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:l,schemaCode:b}){const a=l==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${b} properties`},params:({schemaCode:l})=>(0,e._)`{limit: ${l}}`},code(l){const{keyword:b,data:a,schemaCode:m}=l,u=b==="maxProperties"?e.operators.GT:e.operators.LT;l.fail$data((0,e._)`Object.keys(${a}).length ${u} ${m}`)}};return Le.default=w,Le}var He={},br;function An(){if(br)return He;br=1,Object.defineProperty(He,"__esModule",{value:!0});const e=he(),r=J(),w=Y(),b={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},code(a){const{gen:m,schema:u,schemaCode:h,data:$,$data:_,it:P}=a,{opts:v}=P;if(!_&&u.length===0)return;const p=u.length>=v.loopRequired;if(P.allErrors?y():g(),v.strictRequired){const t=a.parentSchema.properties,{definedProperties:s}=a.it;for(const f of u)if(t?.[f]===void 0&&!s.has(f)){const n=P.schemaEnv.baseId+P.errSchemaPath,d=`required property "${f}" is not defined at "${n}" (strictRequired)`;(0,w.checkStrictMode)(P,d,P.opts.strictRequired)}}function y(){if(p||_)a.block$data(r.nil,o);else for(const t of u)(0,e.checkReportMissingProp)(a,t)}function g(){const t=m.let("missing");if(p||_){const s=m.let("valid",!0);a.block$data(s,()=>i(t,s)),a.ok(s)}else m.if((0,e.checkMissingProp)(a,u,t)),(0,e.reportMissingProp)(a,t),m.else()}function o(){m.forOf("prop",h,t=>{a.setParams({missingProperty:t}),m.if((0,e.noPropertyInData)(m,$,t,v.ownProperties),()=>a.error())})}function i(t,s){a.setParams({missingProperty:t}),m.forOf(t,h,()=>{m.assign(s,(0,e.propertyInData)(m,$,t,v.ownProperties)),m.if((0,r.not)(s),()=>{a.error(),m.break()})},r.nil)}}};return He.default=b,He}var Ge={},Er;function Dn(){if(Er)return Ge;Er=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=J(),w={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:l,schemaCode:b}){const a=l==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${b} items`},params:({schemaCode:l})=>(0,e._)`{limit: ${l}}`},code(l){const{keyword:b,data:a,schemaCode:m}=l,u=b==="maxItems"?e.operators.GT:e.operators.LT;l.fail$data((0,e._)`${a}.length ${u} ${m}`)}};return Ge.default=w,Ge}var Je={},We={},Sr;function Dt(){if(Sr)return We;Sr=1,Object.defineProperty(We,"__esModule",{value:!0});const e=sn();return e.code='require("ajv/dist/runtime/equal").default',We.default=e,We}var Pr;function zn(){if(Pr)return Je;Pr=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=pt(),r=J(),w=Y(),l=Dt(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:m,j:u}})=>(0,r.str)`must NOT have duplicate items (items ## ${u} and ${m} are identical)`,params:({params:{i:m,j:u}})=>(0,r._)`{i: ${m}, j: ${u}}`},code(m){const{gen:u,data:h,$data:$,schema:_,parentSchema:P,schemaCode:v,it:p}=m;if(!$&&!_)return;const y=u.let("valid"),g=P.items?(0,e.getSchemaTypes)(P.items):[];m.block$data(y,o,(0,r._)`${v} === false`),m.ok(y);function o(){const f=u.let("i",(0,r._)`${h}.length`),n=u.let("j");m.setParams({i:f,j:n}),u.assign(y,!0),u.if((0,r._)`${f} > 1`,()=>(i()?t:s)(f,n))}function i(){return g.length>0&&!g.some(f=>f==="object"||f==="array")}function t(f,n){const d=u.name("item"),E=(0,e.checkDataTypes)(g,d,p.opts.strictNumbers,e.DataType.Wrong),j=u.const("indices",(0,r._)`{}`);u.for((0,r._)`;${f}--;`,()=>{u.let(d,(0,r._)`${h}[${f}]`),u.if(E,(0,r._)`continue`),g.length>1&&u.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),u.if((0,r._)`typeof ${j}[${d}] == "number"`,()=>{u.assign(n,(0,r._)`${j}[${d}]`),m.error(),u.assign(y,!1).break()}).code((0,r._)`${j}[${d}] = ${f}`)})}function s(f,n){const d=(0,w.useFunc)(u,l.default),E=u.name("outer");u.label(E).for((0,r._)`;${f}--;`,()=>u.for((0,r._)`${n} = ${f}; ${n}--;`,()=>u.if((0,r._)`${d}(${h}[${f}], ${h}[${n}])`,()=>{m.error(),u.assign(y,!1).break(E)})))}}};return Je.default=a,Je}var Be={},Nr;function Vn(){if(Nr)return Be;Nr=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=J(),r=Y(),w=Dt(),b={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:m,data:u,$data:h,schemaCode:$,schema:_}=a;h||_&&typeof _=="object"?a.fail$data((0,e._)`!${(0,r.useFunc)(m,w.default)}(${u}, ${$})`):a.fail((0,e._)`${_} !== ${u}`)}};return Be.default=b,Be}var Ye={},Rr;function Fn(){if(Rr)return Ye;Rr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=J(),r=Y(),w=Dt(),b={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:m,data:u,$data:h,schema:$,schemaCode:_,it:P}=a;if(!h&&$.length===0)throw new Error("enum must have non-empty array");const v=$.length>=P.opts.loopEnum;let p;const y=()=>p??(p=(0,r.useFunc)(m,w.default));let g;if(v||h)g=m.let("valid"),a.block$data(g,o);else{if(!Array.isArray($))throw new Error("ajv implementation error");const t=m.const("vSchema",_);g=(0,e.or)(...$.map((s,f)=>i(t,f)))}a.pass(g);function o(){m.assign(g,!1),m.forOf("v",_,t=>m.if((0,e._)`${y()}(${u}, ${t})`,()=>m.assign(g,!0).break()))}function i(t,s){const f=$[s];return typeof f=="object"&&f!==null?(0,e._)`${y()}(${u}, ${t}[${s}])`:(0,e._)`${u} === ${f}`}}};return Ye.default=b,Ye}var kr;function Un(){if(kr)return De;kr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=jn(),r=Tn(),w=qn(),l=Cn(),b=Mn(),a=An(),m=Dn(),u=zn(),h=Vn(),$=Fn(),_=[e.default,r.default,w.default,l.default,b.default,a.default,m.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},h.default,$.default];return De.default=_,De}var Ze={},Ee={},Or;function on(){if(Or)return Ee;Or=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.validateAdditionalItems=void 0;const e=J(),r=Y(),l={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:m,it:u}=a,{items:h}=m;if(!Array.isArray(h)){(0,r.checkStrictMode)(u,'"additionalItems" is ignored when "items" is not an array of schemas');return}b(a,h)}};function b(a,m){const{gen:u,schema:h,data:$,keyword:_,it:P}=a;P.items=!0;const v=u.const("len",(0,e._)`${$}.length`);if(h===!1)a.setParams({len:m.length}),a.pass((0,e._)`${v} <= ${m.length}`);else if(typeof h=="object"&&!(0,r.alwaysValidSchema)(P,h)){const y=u.var("valid",(0,e._)`${v} <= ${m.length}`);u.if((0,e.not)(y),()=>p(y)),a.ok(y)}function p(y){u.forRange("i",m.length,v,g=>{a.subschema({keyword:_,dataProp:g,dataPropType:r.Type.Num},y),P.allErrors||u.if((0,e.not)(y),()=>u.break())})}}return Ee.validateAdditionalItems=b,Ee.default=l,Ee}var Qe={},Se={},jr;function un(){if(jr)return Se;jr=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.validateTuple=void 0;const e=J(),r=Y(),w=he(),l={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:m,it:u}=a;if(Array.isArray(m))return b(a,"additionalItems",m);u.items=!0,!(0,r.alwaysValidSchema)(u,m)&&a.ok((0,w.validateArray)(a))}};function b(a,m,u=a.schema){const{gen:h,parentSchema:$,data:_,keyword:P,it:v}=a;g($),v.opts.unevaluated&&u.length&&v.items!==!0&&(v.items=r.mergeEvaluated.items(h,u.length,v.items));const p=h.name("valid"),y=h.const("len",(0,e._)`${_}.length`);u.forEach((o,i)=>{(0,r.alwaysValidSchema)(v,o)||(h.if((0,e._)`${y} > ${i}`,()=>a.subschema({keyword:P,schemaProp:i,dataProp:i},p)),a.ok(p))});function g(o){const{opts:i,errSchemaPath:t}=v,s=u.length,f=s===o.minItems&&(s===o.maxItems||o[m]===!1);if(i.strictTuples&&!f){const n=`"${P}" is ${s}-tuple, but minItems or maxItems/${m} are not specified or different at path "${t}"`;(0,r.checkStrictMode)(v,n,i.strictTuples)}}}return Se.validateTuple=b,Se.default=l,Se}var Tr;function Kn(){if(Tr)return Qe;Tr=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=un(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:w=>(0,e.validateTuple)(w,"items")};return Qe.default=r,Qe}var Xe={},Ir;function Ln(){if(Ir)return Xe;Ir=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=J(),r=Y(),w=he(),l=on(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:m}})=>(0,e.str)`must NOT have more than ${m} items`,params:({params:{len:m}})=>(0,e._)`{limit: ${m}}`},code(m){const{schema:u,parentSchema:h,it:$}=m,{prefixItems:_}=h;$.items=!0,!(0,r.alwaysValidSchema)($,u)&&(_?(0,l.validateAdditionalItems)(m,_):m.ok((0,w.validateArray)(m)))}};return Xe.default=a,Xe}var xe={},qr;function Hn(){if(qr)return xe;qr=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=J(),r=Y(),l={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:b,max:a}})=>a===void 0?(0,e.str)`must contain at least ${b} valid item(s)`:(0,e.str)`must contain at least ${b} and no more than ${a} valid item(s)`,params:({params:{min:b,max:a}})=>a===void 0?(0,e._)`{minContains: ${b}}`:(0,e._)`{minContains: ${b}, maxContains: ${a}}`},code(b){const{gen:a,schema:m,parentSchema:u,data:h,it:$}=b;let _,P;const{minContains:v,maxContains:p}=u;$.opts.next?(_=v===void 0?1:v,P=p):_=1;const y=a.const("len",(0,e._)`${h}.length`);if(b.setParams({min:_,max:P}),P===void 0&&_===0){(0,r.checkStrictMode)($,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(P!==void 0&&_>P){(0,r.checkStrictMode)($,'"minContains" > "maxContains" is always invalid'),b.fail();return}if((0,r.alwaysValidSchema)($,m)){let s=(0,e._)`${y} >= ${_}`;P!==void 0&&(s=(0,e._)`${s} && ${y} <= ${P}`),b.pass(s);return}$.items=!0;const g=a.name("valid");P===void 0&&_===1?i(g,()=>a.if(g,()=>a.break())):_===0?(a.let(g,!0),P!==void 0&&a.if((0,e._)`${h}.length > 0`,o)):(a.let(g,!1),o()),b.result(g,()=>b.reset());function o(){const s=a.name("_valid"),f=a.let("count",0);i(s,()=>a.if(s,()=>t(f)))}function i(s,f){a.forRange("i",0,y,n=>{b.subschema({keyword:"contains",dataProp:n,dataPropType:r.Type.Num,compositeRule:!0},s),f()})}function t(s){a.code((0,e._)`${s}++`),P===void 0?a.if((0,e._)`${s} >= ${_}`,()=>a.assign(g,!0).break()):(a.if((0,e._)`${s} > ${P}`,()=>a.assign(g,!1).break()),_===1?a.assign(g,!0):a.if((0,e._)`${s} >= ${_}`,()=>a.assign(g,!0)))}}};return xe.default=l,xe}var It={},Cr;function Gn(){return Cr||(Cr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=J(),w=Y(),l=he();e.error={message:({params:{property:h,depsCount:$,deps:_}})=>{const P=$===1?"property":"properties";return(0,r.str)`must have ${P} ${_} when property ${h} is present`},params:({params:{property:h,depsCount:$,deps:_,missingProperty:P}})=>(0,r._)`{property: ${h},
    missingProperty: ${P},
    depsCount: ${$},
    deps: ${_}}`};const b={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(h){const[$,_]=a(h);m(h,$),u(h,_)}};function a({schema:h}){const $={},_={};for(const P in h){if(P==="__proto__")continue;const v=Array.isArray(h[P])?$:_;v[P]=h[P]}return[$,_]}function m(h,$=h.schema){const{gen:_,data:P,it:v}=h;if(Object.keys($).length===0)return;const p=_.let("missing");for(const y in $){const g=$[y];if(g.length===0)continue;const o=(0,l.propertyInData)(_,P,y,v.opts.ownProperties);h.setParams({property:y,depsCount:g.length,deps:g.join(", ")}),v.allErrors?_.if(o,()=>{for(const i of g)(0,l.checkReportMissingProp)(h,i)}):(_.if((0,r._)`${o} && (${(0,l.checkMissingProp)(h,g,p)})`),(0,l.reportMissingProp)(h,p),_.else())}}e.validatePropertyDeps=m;function u(h,$=h.schema){const{gen:_,data:P,keyword:v,it:p}=h,y=_.name("valid");for(const g in $)(0,w.alwaysValidSchema)(p,$[g])||(_.if((0,l.propertyInData)(_,P,g,p.opts.ownProperties),()=>{const o=h.subschema({keyword:v,schemaProp:g},y);h.mergeValidEvaluated(o,y)},()=>_.var(y,!0)),h.ok(y))}e.validateSchemaDeps=u,e.default=b})(It)),It}var et={},Mr;function Jn(){if(Mr)return et;Mr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=J(),r=Y(),l={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:b})=>(0,e._)`{propertyName: ${b.propertyName}}`},code(b){const{gen:a,schema:m,data:u,it:h}=b;if((0,r.alwaysValidSchema)(h,m))return;const $=a.name("valid");a.forIn("key",u,_=>{b.setParams({propertyName:_}),b.subschema({keyword:"propertyNames",data:_,dataTypes:["string"],propertyName:_,compositeRule:!0},$),a.if((0,e.not)($),()=>{b.error(!0),h.allErrors||a.break()})}),b.ok($)}};return et.default=l,et}var tt={},Ar;function cn(){if(Ar)return tt;Ar=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=he(),r=J(),w=ve(),l=Y(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:m})=>(0,r._)`{additionalProperty: ${m.additionalProperty}}`},code(m){const{gen:u,schema:h,parentSchema:$,data:_,errsCount:P,it:v}=m;if(!P)throw new Error("ajv implementation error");const{allErrors:p,opts:y}=v;if(v.props=!0,y.removeAdditional!=="all"&&(0,l.alwaysValidSchema)(v,h))return;const g=(0,e.allSchemaProperties)($.properties),o=(0,e.allSchemaProperties)($.patternProperties);i(),m.ok((0,r._)`${P} === ${w.default.errors}`);function i(){u.forIn("key",_,d=>{!g.length&&!o.length?f(d):u.if(t(d),()=>f(d))})}function t(d){let E;if(g.length>8){const j=(0,l.schemaRefOrVal)(v,$.properties,"properties");E=(0,e.isOwnProperty)(u,j,d)}else g.length?E=(0,r.or)(...g.map(j=>(0,r._)`${d} === ${j}`)):E=r.nil;return o.length&&(E=(0,r.or)(E,...o.map(j=>(0,r._)`${(0,e.usePattern)(m,j)}.test(${d})`))),(0,r.not)(E)}function s(d){u.code((0,r._)`delete ${_}[${d}]`)}function f(d){if(y.removeAdditional==="all"||y.removeAdditional&&h===!1){s(d);return}if(h===!1){m.setParams({additionalProperty:d}),m.error(),p||u.break();return}if(typeof h=="object"&&!(0,l.alwaysValidSchema)(v,h)){const E=u.name("valid");y.removeAdditional==="failing"?(n(d,E,!1),u.if((0,r.not)(E),()=>{m.reset(),s(d)})):(n(d,E),p||u.if((0,r.not)(E),()=>u.break()))}}function n(d,E,j){const M={keyword:"additionalProperties",dataProp:d,dataPropType:l.Type.Str};j===!1&&Object.assign(M,{compositeRule:!0,createErrors:!1,allErrors:!1}),m.subschema(M,E)}}};return tt.default=a,tt}var rt={},Dr;function Wn(){if(Dr)return rt;Dr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=vt(),r=he(),w=Y(),l=cn(),b={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:m,schema:u,parentSchema:h,data:$,it:_}=a;_.opts.removeAdditional==="all"&&h.additionalProperties===void 0&&l.default.code(new e.KeywordCxt(_,l.default,"additionalProperties"));const P=(0,r.allSchemaProperties)(u);for(const o of P)_.definedProperties.add(o);_.opts.unevaluated&&P.length&&_.props!==!0&&(_.props=w.mergeEvaluated.props(m,(0,w.toHash)(P),_.props));const v=P.filter(o=>!(0,w.alwaysValidSchema)(_,u[o]));if(v.length===0)return;const p=m.name("valid");for(const o of v)y(o)?g(o):(m.if((0,r.propertyInData)(m,$,o,_.opts.ownProperties)),g(o),_.allErrors||m.else().var(p,!0),m.endIf()),a.it.definedProperties.add(o),a.ok(p);function y(o){return _.opts.useDefaults&&!_.compositeRule&&u[o].default!==void 0}function g(o){a.subschema({keyword:"properties",schemaProp:o,dataProp:o},p)}}};return rt.default=b,rt}var nt={},zr;function Bn(){if(zr)return nt;zr=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=he(),r=J(),w=Y(),l=Y(),b={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:m,schema:u,data:h,parentSchema:$,it:_}=a,{opts:P}=_,v=(0,e.allSchemaProperties)(u),p=v.filter(f=>(0,w.alwaysValidSchema)(_,u[f]));if(v.length===0||p.length===v.length&&(!_.opts.unevaluated||_.props===!0))return;const y=P.strictSchema&&!P.allowMatchingProperties&&$.properties,g=m.name("valid");_.props!==!0&&!(_.props instanceof r.Name)&&(_.props=(0,l.evaluatedPropsToName)(m,_.props));const{props:o}=_;i();function i(){for(const f of v)y&&t(f),_.allErrors?s(f):(m.var(g,!0),s(f),m.if(g))}function t(f){for(const n in y)new RegExp(f).test(n)&&(0,w.checkStrictMode)(_,`property ${n} matches pattern ${f} (use allowMatchingProperties)`)}function s(f){m.forIn("key",h,n=>{m.if((0,r._)`${(0,e.usePattern)(a,f)}.test(${n})`,()=>{const d=p.includes(f);d||a.subschema({keyword:"patternProperties",schemaProp:f,dataProp:n,dataPropType:l.Type.Str},g),_.opts.unevaluated&&o!==!0?m.assign((0,r._)`${o}[${n}]`,!0):!d&&!_.allErrors&&m.if((0,r.not)(g),()=>m.break())})})}}};return nt.default=b,nt}var st={},Vr;function Yn(){if(Vr)return st;Vr=1,Object.defineProperty(st,"__esModule",{value:!0});const e=Y(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(w){const{gen:l,schema:b,it:a}=w;if((0,e.alwaysValidSchema)(a,b)){w.fail();return}const m=l.name("valid");w.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},m),w.failResult(m,()=>w.reset(),()=>w.error())},error:{message:"must NOT be valid"}};return st.default=r,st}var at={},Fr;function Zn(){if(Fr)return at;Fr=1,Object.defineProperty(at,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:he().validateUnion,error:{message:"must match a schema in anyOf"}};return at.default=r,at}var ot={},Ur;function Qn(){if(Ur)return ot;Ur=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=J(),r=Y(),l={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:b})=>(0,e._)`{passingSchemas: ${b.passing}}`},code(b){const{gen:a,schema:m,parentSchema:u,it:h}=b;if(!Array.isArray(m))throw new Error("ajv implementation error");if(h.opts.discriminator&&u.discriminator)return;const $=m,_=a.let("valid",!1),P=a.let("passing",null),v=a.name("_valid");b.setParams({passing:P}),a.block(p),b.result(_,()=>b.reset(),()=>b.error(!0));function p(){$.forEach((y,g)=>{let o;(0,r.alwaysValidSchema)(h,y)?a.var(v,!0):o=b.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},v),g>0&&a.if((0,e._)`${v} && ${_}`).assign(_,!1).assign(P,(0,e._)`[${P}, ${g}]`).else(),a.if(v,()=>{a.assign(_,!0),a.assign(P,g),o&&b.mergeEvaluated(o,e.Name)})})}}};return ot.default=l,ot}var it={},Kr;function Xn(){if(Kr)return it;Kr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=Y(),r={keyword:"allOf",schemaType:"array",code(w){const{gen:l,schema:b,it:a}=w;if(!Array.isArray(b))throw new Error("ajv implementation error");const m=l.name("valid");b.forEach((u,h)=>{if((0,e.alwaysValidSchema)(a,u))return;const $=w.subschema({keyword:"allOf",schemaProp:h},m);w.ok(m),w.mergeEvaluated($)})}};return it.default=r,it}var ut={},Lr;function xn(){if(Lr)return ut;Lr=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=J(),r=Y(),l={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:m,parentSchema:u,it:h}=a;u.then===void 0&&u.else===void 0&&(0,r.checkStrictMode)(h,'"if" without "then" and "else" is ignored');const $=b(h,"then"),_=b(h,"else");if(!$&&!_)return;const P=m.let("valid",!0),v=m.name("_valid");if(p(),a.reset(),$&&_){const g=m.let("ifClause");a.setParams({ifClause:g}),m.if(v,y("then",g),y("else",g))}else $?m.if(v,y("then")):m.if((0,e.not)(v),y("else"));a.pass(P,()=>a.error(!0));function p(){const g=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},v);a.mergeEvaluated(g)}function y(g,o){return()=>{const i=a.subschema({keyword:g},v);m.assign(P,v),a.mergeValidEvaluated(i,P),o?m.assign(o,(0,e._)`${g}`):a.setParams({ifClause:g})}}}};function b(a,m){const u=a.schema[m];return u!==void 0&&!(0,r.alwaysValidSchema)(a,u)}return ut.default=l,ut}var ct={},Hr;function es(){if(Hr)return ct;Hr=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=Y(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:w,parentSchema:l,it:b}){l.if===void 0&&(0,e.checkStrictMode)(b,`"${w}" without "if" is ignored`)}};return ct.default=r,ct}var Gr;function ts(){if(Gr)return Ze;Gr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=on(),r=Kn(),w=un(),l=Ln(),b=Hn(),a=Gn(),m=Jn(),u=cn(),h=Wn(),$=Bn(),_=Yn(),P=Zn(),v=Qn(),p=Xn(),y=xn(),g=es();function o(i=!1){const t=[_.default,P.default,v.default,p.default,y.default,g.default,m.default,u.default,a.default,h.default,$.default];return i?t.push(r.default,l.default):t.push(e.default,w.default),t.push(b.default),t}return Ze.default=o,Ze}var dt={},lt={},Jr;function rs(){if(Jr)return lt;Jr=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=J(),w={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:l})=>(0,e.str)`must match format "${l}"`,params:({schemaCode:l})=>(0,e._)`{format: ${l}}`},code(l,b){const{gen:a,data:m,$data:u,schema:h,schemaCode:$,it:_}=l,{opts:P,errSchemaPath:v,schemaEnv:p,self:y}=_;if(!P.validateFormats)return;u?g():o();function g(){const i=a.scopeValue("formats",{ref:y.formats,code:P.code.formats}),t=a.const("fDef",(0,e._)`${i}[${$}]`),s=a.let("fType"),f=a.let("format");a.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>a.assign(s,(0,e._)`${t}.type || "string"`).assign(f,(0,e._)`${t}.validate`),()=>a.assign(s,(0,e._)`"string"`).assign(f,t)),l.fail$data((0,e.or)(n(),d()));function n(){return P.strictSchema===!1?e.nil:(0,e._)`${$} && !${f}`}function d(){const E=p.$async?(0,e._)`(${t}.async ? await ${f}(${m}) : ${f}(${m}))`:(0,e._)`${f}(${m})`,j=(0,e._)`(typeof ${f} == "function" ? ${E} : ${f}.test(${m}))`;return(0,e._)`${f} && ${f} !== true && ${s} === ${b} && !${j}`}}function o(){const i=y.formats[h];if(!i){n();return}if(i===!0)return;const[t,s,f]=d(i);t===b&&l.pass(E());function n(){if(P.strictSchema===!1){y.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${h}" ignored in schema at path "${v}"`}}function d(j){const M=j instanceof RegExp?(0,e.regexpCode)(j):P.code.formats?(0,e._)`${P.code.formats}${(0,e.getProperty)(h)}`:void 0,V=a.scopeValue("formats",{key:h,ref:j,code:M});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,e._)`${V}.validate`]:["string",j,V]}function E(){if(typeof i=="object"&&!(i instanceof RegExp)&&i.async){if(!p.$async)throw new Error("async format in sync schema");return(0,e._)`await ${f}(${m})`}return typeof s=="function"?(0,e._)`${f}(${m})`:(0,e._)`${f}.test(${m})`}}}};return lt.default=w,lt}var Wr;function ns(){if(Wr)return dt;Wr=1,Object.defineProperty(dt,"__esModule",{value:!0});const r=[rs().default];return dt.default=r,dt}var we={},Br;function ss(){return Br||(Br=1,Object.defineProperty(we,"__esModule",{value:!0}),we.contentVocabulary=we.metadataVocabulary=void 0,we.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],we.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),we}var Yr;function as(){if(Yr)return Ce;Yr=1,Object.defineProperty(Ce,"__esModule",{value:!0});const e=On(),r=Un(),w=ts(),l=ns(),b=ss(),a=[e.default,r.default,(0,w.default)(),l.default,b.metadataVocabulary,b.contentVocabulary];return Ce.default=a,Ce}var ft={},ke={},Zr;function os(){if(Zr)return ke;Zr=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.DiscrError=void 0;var e;return(function(r){r.Tag="tag",r.Mapping="mapping"})(e||(ke.DiscrError=e={})),ke}var Qr;function is(){if(Qr)return ft;Qr=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=J(),r=os(),w=At(),l=$t(),b=Y(),m={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:u,tagName:h}})=>u===r.DiscrError.Tag?`tag "${h}" must be string`:`value of tag "${h}" must be in oneOf`,params:({params:{discrError:u,tag:h,tagName:$}})=>(0,e._)`{error: ${u}, tag: ${$}, tagValue: ${h}}`},code(u){const{gen:h,data:$,schema:_,parentSchema:P,it:v}=u,{oneOf:p}=P;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=_.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(_.mapping)throw new Error("discriminator: mapping is not supported");if(!p)throw new Error("discriminator: requires oneOf keyword");const g=h.let("valid",!1),o=h.const("tag",(0,e._)`${$}${(0,e.getProperty)(y)}`);h.if((0,e._)`typeof ${o} == "string"`,()=>i(),()=>u.error(!1,{discrError:r.DiscrError.Tag,tag:o,tagName:y})),u.ok(g);function i(){const f=s();h.if(!1);for(const n in f)h.elseIf((0,e._)`${o} === ${n}`),h.assign(g,t(f[n]));h.else(),u.error(!1,{discrError:r.DiscrError.Mapping,tag:o,tagName:y}),h.endIf()}function t(f){const n=h.name("valid"),d=u.subschema({keyword:"oneOf",schemaProp:f},n);return u.mergeEvaluated(d,e.Name),n}function s(){var f;const n={},d=j(P);let E=!0;for(let I=0;I<p.length;I++){let z=p[I];if(z?.$ref&&!(0,b.schemaHasRulesButRef)(z,v.self.RULES)){const U=z.$ref;if(z=w.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,U),z instanceof w.SchemaEnv&&(z=z.schema),z===void 0)throw new l.default(v.opts.uriResolver,v.baseId,U)}const F=(f=z?.properties)===null||f===void 0?void 0:f[y];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);E=E&&(d||j(z)),M(F,I)}if(!E)throw new Error(`discriminator: "${y}" must be required`);return n;function j({required:I}){return Array.isArray(I)&&I.includes(y)}function M(I,z){if(I.const)V(I.const,z);else if(I.enum)for(const F of I.enum)V(F,z);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function V(I,z){if(typeof I!="string"||I in n)throw new Error(`discriminator: "${y}" values must be unique strings`);n[I]=z}}}};return ft.default=m,ft}const us="http://json-schema.org/draft-07/schema#",cs="http://json-schema.org/draft-07/schema#",ds="Core schema meta-schema",ls={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},fs=["object","boolean"],hs={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ms={$schema:us,$id:cs,title:ds,definitions:ls,type:fs,properties:hs,default:!0};var Xr;function ps(){return Xr||(Xr=1,(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;const w=Nn(),l=as(),b=is(),a=ms,m=["/properties"],u="http://json-schema.org/draft-07/schema";class h extends w.default{_addVocabularies(){super._addVocabularies(),l.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(b.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(a,m):a;this.addMetaSchema(y,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}r.Ajv=h,e.exports=r=h,e.exports.Ajv=h,Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var $=vt();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var _=J();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var P=Mt();Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return P.default}});var v=$t();Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(Oe,Oe.exports)),Oe.exports}var ht={exports:{}},qt={},xr;function ys(){return xr||(xr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function r(I,z){return{validate:I,compare:z}}e.fullFormats={date:r(a,m),time:r(h(!0),$),"date-time":r(v(!0),p),"iso-time":r(h(),_),"iso-date-time":r(v(),y),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:i,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:V,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:s,int32:{type:"number",validate:d},int64:{type:"number",validate:E},float:{type:"number",validate:j},double:{type:"number",validate:j},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,m),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,$),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),"iso-time":r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,_),"iso-date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,y),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function w(I){return I%4===0&&(I%100!==0||I%400===0)}const l=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,b=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(I){const z=l.exec(I);if(!z)return!1;const F=+z[1],U=+z[2],Q=+z[3];return U>=1&&U<=12&&Q>=1&&Q<=(U===2&&w(F)?29:b[U])}function m(I,z){if(I&&z)return I>z?1:I<z?-1:0}const u=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function h(I){return function(F){const U=u.exec(F);if(!U)return!1;const Q=+U[1],ne=+U[2],se=+U[3],x=U[4],de=U[5]==="-"?-1:1,A=+(U[6]||0),R=+(U[7]||0);if(A>23||R>59||I&&!x)return!1;if(Q<=23&&ne<=59&&se<60)return!0;const C=ne-R*de,O=Q-A*de-(C<0?1:0);return(O===23||O===-1)&&(C===59||C===-1)&&se<61}}function $(I,z){if(!(I&&z))return;const F=new Date("2020-01-01T"+I).valueOf(),U=new Date("2020-01-01T"+z).valueOf();if(F&&U)return F-U}function _(I,z){if(!(I&&z))return;const F=u.exec(I),U=u.exec(z);if(F&&U)return I=F[1]+F[2]+F[3],z=U[1]+U[2]+U[3],I>z?1:I<z?-1:0}const P=/t|\s/i;function v(I){const z=h(I);return function(U){const Q=U.split(P);return Q.length===2&&a(Q[0])&&z(Q[1])}}function p(I,z){if(!(I&&z))return;const F=new Date(I).valueOf(),U=new Date(z).valueOf();if(F&&U)return F-U}function y(I,z){if(!(I&&z))return;const[F,U]=I.split(P),[Q,ne]=z.split(P),se=m(F,Q);if(se!==void 0)return se||$(U,ne)}const g=/\/|:/,o=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function i(I){return g.test(I)&&o.test(I)}const t=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function s(I){return t.lastIndex=0,t.test(I)}const f=-2147483648,n=2**31-1;function d(I){return Number.isInteger(I)&&I<=n&&I>=f}function E(I){return Number.isInteger(I)}function j(){return!0}const M=/[^\\]\\Z/;function V(I){if(M.test(I))return!1;try{return new RegExp(I),!0}catch{return!1}}})(qt)),qt}var Ct={},en;function _s(){return en||(en=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const r=ps(),w=J(),l=w.operators,b={formatMaximum:{okStr:"<=",ok:l.LTE,fail:l.GT},formatMinimum:{okStr:">=",ok:l.GTE,fail:l.LT},formatExclusiveMaximum:{okStr:"<",ok:l.LT,fail:l.GTE},formatExclusiveMinimum:{okStr:">",ok:l.GT,fail:l.LTE}},a={message:({keyword:u,schemaCode:h})=>(0,w.str)`should be ${b[u].okStr} ${h}`,params:({keyword:u,schemaCode:h})=>(0,w._)`{comparison: ${b[u].okStr}, limit: ${h}}`};e.formatLimitDefinition={keyword:Object.keys(b),type:"string",schemaType:"string",$data:!0,error:a,code(u){const{gen:h,data:$,schemaCode:_,keyword:P,it:v}=u,{opts:p,self:y}=v;if(!p.validateFormats)return;const g=new r.KeywordCxt(v,y.RULES.all.format.definition,"format");g.$data?o():i();function o(){const s=h.scopeValue("formats",{ref:y.formats,code:p.code.formats}),f=h.const("fmt",(0,w._)`${s}[${g.schemaCode}]`);u.fail$data((0,w.or)((0,w._)`typeof ${f} != "object"`,(0,w._)`${f} instanceof RegExp`,(0,w._)`typeof ${f}.compare != "function"`,t(f)))}function i(){const s=g.schema,f=y.formats[s];if(!f||f===!0)return;if(typeof f!="object"||f instanceof RegExp||typeof f.compare!="function")throw new Error(`"${P}": format "${s}" does not define "compare" function`);const n=h.scopeValue("formats",{key:s,ref:f,code:p.code.formats?(0,w._)`${p.code.formats}${(0,w.getProperty)(s)}`:void 0});u.fail$data(t(n))}function t(s){return(0,w._)`${s}.compare(${$}, ${_}) ${b[P].fail} 0`}},dependencies:["format"]};const m=u=>(u.addKeyword(e.formatLimitDefinition),u);e.default=m})(Ct)),Ct}var tn;function vs(){return tn||(tn=1,(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});const w=ys(),l=_s(),b=J(),a=new b.Name("fullFormats"),m=new b.Name("fastFormats"),u=($,_={keywords:!0})=>{if(Array.isArray(_))return h($,_,w.fullFormats,a),$;const[P,v]=_.mode==="fast"?[w.fastFormats,m]:[w.fullFormats,a],p=_.formats||w.formatNames;return h($,p,P,v),_.keywords&&(0,l.default)($),$};u.get=($,_="full")=>{const v=(_==="fast"?w.fastFormats:w.fullFormats)[$];if(!v)throw new Error(`Unknown format "${$}"`);return v};function h($,_,P,v){var p,y;(p=(y=$.opts.code).formats)!==null&&p!==void 0||(y.formats=(0,b._)`require("ajv-formats/dist/formats").${v}`);for(const g of _)$.addFormat(g,P[g])}e.exports=r=u,Object.defineProperty(r,"__esModule",{value:!0}),r.default=u})(ht,ht.exports)),ht.exports}export{vs as a,ps as r};
